__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o=5;var s=r(d[13]).connect(function(s,t){const n=r(d[0]).getViewer(s),{currentState:l,items:u,paginationInfo:P,postModalId:p,showSurvey:S,visibleCount:c}=s.feed,{navSelection:h,route:T}=s.navigation,w=s.feed.extrasDataFetchStatus===r(d[1]).EXTRAS_DATA_FETCH_STATUS.loaded;let C={canFBConnect:r(d[2]).shouldDisplayFacebookConnect(s),extrasLoaded:w,followsSomeone:s.relationships.valueSeq().some(o=>o.followedByViewer.state===r(d[3]).FOLLOW_STATUS_FOLLOWING),hasNewPosts:r(d[4]).hasNewPosts(s),hasNextPage:!1,isConsentModalOpen:r(d[5]).isConsentModalOpen(s),isFetching:s.feed.isLoading||!(null===P||void 0===P?void 0:P.hasNextPage)&&s.suggestedUsers.isLoadingSuggestions,isOldestPostVisible:!1,items:u,justPosted:s.feed.justPosted,maxPostsToDisplay:c,navSelection:h,newSuggestionsCount:s.suggestedUsers.newSuggestionsCount,postModalId:p,prefetchNextPageThreshold:l===r(d[6]).FEED_STATE_CACHE?o:void 0,profilePicUploadIsInFlight:s.users.profilePicUploadIsInFlight,qp:s.qp.promotions,route:T,showAppInstallModal:!!t.showAppInstallModal,showSurvey:S,showUploadProgressBar:null!==s.uploadProgress.status,suggestedUserIds:r(d[2]).getNonDismissedAysfIds(s),viewer:n,viewportWidth:s.displayProperties.viewportWidth,willScrollToTop:s.feed.willScrollToTop};u&&(C={...C,items:u},P&&(C={...C,hasNextPage:Boolean(P.hasNextPage),isOldestPostVisible:!0!==P.hasNextPage&&null!=c&&c>=u.count()}),(l===r(d[6]).FEED_STATE_CACHE||l===r(d[6]).FEED_STATE_CACHE_PAGINATED)&&null===P&&(C={...C,hasNextPage:!0}));return C},function(o){return{onClearJustPosted(){o(r(d[7]).clearJustPosted())},onConsentFlowStart(s){o(r(d[8]).loadConsents(s))},onLoadBroadcasts(){o(r(d[9]).getBroadcasts())},onLoadNewPosts(){o(r(d[7]).commitStagedFeed())},onLoadNextPage(s,t){o(r(d[7]).loadNextPage(s,t))},onClosePostModal(){o(r(d[7]).closePostModal())},onOpenPostModal(s,t){o(r(d[7]).openPostModalForId(s)),t&&o(r(d[7]).loadNextPage(r(d[10]).DEFAULT_PAGE_SIZE))},onScrollToTop(){o(r(d[7]).scrolledToTop())},onSendConfirmEmail(){o(r(d[11]).sendConfirmEmail())},onSetFeedPageFilter(s){o(r(d[12]).setFeedPageFilter(s))},onSetShowSurvey(s){o(r(d[7]).setShowSurvey(s))}}})(i(d[10]));e.default=s},13238272,[9699376,13238273,10092616,9961481,13238274,13238275,13238276,12845059,11927555,13041679,13238277,9961859,10092560,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function s(s){return!s.suggestedUsers.viewerHasFBConnect}Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(s,r(d[1]).isFBConnectEligible,(s,t)=>!s&&(t&&!1!==i(d[2])._("125","0")&&!1!==i(d[2])._("127","2"))),n=r(d[0]).createSelector(s=>s.suggestedUsers.ids,s=>s.suggestedUsers.dismissedAysfIds,(s,t)=>s.subtract(t).toArray()),o=r(d[0]).createSelector(s=>s.suggestedUsers.dismissedAysfIds,(s,t)=>i(d[3])(t.userIds).map(t=>r(d[4]).getUserById(s,t)),(s,t)=>t.filter(t=>!s.has(t.id)).toArray()),u=r(d[0]).createSelector(s=>s.suggestedUsers.ids,s=>s.toArray());e.isViewerFacebookConnected=s,e.shouldDisplayFacebookConnect=t,e.getNonDismissedAysfIds=n,e.getProfileChainingFailure=function(s,t){return!!s.suggestedUsers.profileChainingFailures.get(t)},e.getProfileChainingSuggestions=function(s,t){return s.suggestedUsers.profileChainingSuggestions.get(t)},e.getFeedAysfUsers=o,e.getSuggestions=u,e.isInitialLoad=function(s){return s.suggestedUsers.isLoadingSuggestions&&0===s.suggestedUsers.ids.size}},10092616,[9,10092622,9699363,9699335,9699376]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isFBConnectEligible=function(n){return n.fb.status!==r(d[0]).STATUS.ineligible},e.isConnected=function(n){return n.fb.status===r(d[0]).STATUS.connected}},10092622,[10092623]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.isConsentModalOpen=function(n){return n.consent.isModalOpen}},13238275,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return!!Object.values(r(d[15]).ConsentEntrypoints).includes(t)}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const s=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[4],"EmptyFeedPage")}),o=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[6],"NewUserActivatorsUnit")}),n=r(d[1]).createAsyncComponent({fallback:a(d[2]).createElement(i(d[3]),{className:"KQA-S"}),resolve:()=>r(d[5])(d[7],"FeedEndSuggestedUserUnit")}),l='feed',p=12;class h extends a(d[2]).Component{constructor(...t){super(...t),this.$MobileHeader1=(t=>{i(d[8])(this.$MobileHeader2).handleStoryCreationClick()}),this.$MobileHeader3=(t=>{window.scrollTo(0,0),t.preventDefault()})}$MobileHeader4(){return a(d[2]).createElement(i(d[9]),{location:this.props.location})}render(){const t=a(d[2]).createElement("button",{className:"mTGkH",key:'create_story',onClick:this.$MobileHeader1},a(d[2]).createElement(i(d[10]),{alt:r(d[11]).NEW_STORY_TEXT}));return a(d[2]).createElement("div",null,a(d[2]).createElement(i(d[12]),{leftActions:[t],rightActions:this.$MobileHeader4(),title:a(d[2]).createElement(i(d[13]),{isLink:!0})}),a(d[2]).createElement(i(d[14]),{entryPoint:"quick_cam_button",ref:t=>this.$MobileHeader2=t}))}}const c=(function(){let t=!1;return function(){t||(i(d[16]).appendActionIfNew(r(d[17]).IG_WEB_NUX_FUNNEL,r(d[17]).NUX_FUNNEL_FEED),i(d[16]).endFunnel(r(d[17]).IG_WEB_NUX_FUNNEL),t=!0)}})();class P extends a(d[2]).Component{constructor(t){var s;super(t),this.$FeedPage1=0,this.$FeedPage2=!1,this.$FeedPage7=(()=>{window.scrollTo(0,0),this.props.onScrollToTop()}),this.$FeedPage10=(t=>t?i(d[18]).VARIANTS.none:r(d[19]).isMobile()?i(d[18]).VARIANTS.slim:i(d[18]).VARIANTS.flexible),this.$FeedPage9=(()=>this.props.items&&0===this.props.items.size?i(d[20]).emptyFeedPage:i(d[20]).feedPage),this.$FeedPage11=(()=>{this.setState({showProfilePicAdder:!1})}),this.$FeedPage12=(()=>{this.setState({showAppInstallModal:!1})}),this.$FeedPage13=(t=>{const s=null!=this.props.maxPostsToDisplay?t-this.props.maxPostsToDisplay:0;s>0&&this.props.onLoadNextPage(s)}),this.$FeedPage14=(()=>{this.props.history.goBack()}),this.$FeedPage5=(()=>{this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()}),this.$FeedPage16=(()=>{const t=r(d[19]).isDesktop()&&!0===i(d[21])._("80","3"),s=this.$FeedPage15();return!t&&!s&&this.props.viewportWidth<=i(d[22])['feed-sidebar-threshold-min'].value}),this.$FeedPage17=(()=>{const t=this.$FeedPage15();return r(d[19]).isDesktop()&&!t&&!0===i(d[21])._("80","3")}),this.$FeedPage18=(()=>{return!this.$FeedPage15()&&r(d[19]).isDesktop()&&this.props.viewportWidth>=i(d[22])['feed-sidebar-threshold-min'].value}),this.$FeedPage22=(()=>{r(d[23]).logAction_DEPRECATED('newPostsPillClick'),this.$FeedPage7()}),this.$FeedPage23=(t=>{this.props.onLoadNextPage(p,t)}),this.$FeedPage24=(t=>{null!=t.followHashtagInfo?r(d[24]).logImpression(t):r(d[25]).logImpressionForPost(t,l)}),this.$FeedPage25=((t,s)=>{const{hasNextPage:o,items:n}=this.props;let l=!1;o&&n&&(l=s===n.size-2),this.props.onOpenPostModal(t,l)});const o=!(null===(s=this.props.viewer)||void 0===s?void 0:s.hasProfilePic);this.state={blockGDPRQPs:!1,isZeroRatingNewAndResEligible:r(d[26]).isZeroRatingNewAndResEligible(),isZeroRatingSelectEligible:r(d[26]).isZeroRatingSelectEligible(),isZeroRatingSlimEligible:r(d[26]).isZeroRatingSlimEligible(),showAppInstallModal:this.props.showAppInstallModal,showProfilePicAdder:o,showCreationUpsell:!1,showPostModal:!1,postModalId:null},this.$FeedPage3=t.location,r(d[19]).isDesktop()&&r(d[27]).preloadModule()}$FeedPage4(){null!=this.props.items&&this.props.onDisplayDone()}componentDidMount(){let s;try{s=r(d[28]).parseQueryParams()}catch(t){}s&&s.terms_start&&t(s.terms_start)&&(this.props.onConsentFlowStart(s.terms_start),this.setState({blockGDPRQPs:!0})),r(d[19]).isDesktop()&&r(d[29]).shouldFetchLiveInStories()&&this.props.onLoadBroadcasts(),this.$FeedPage4(),r(d[30]).hasFeedCaching()&&(this.props.hasNewPosts&&!r(d[31]).shouldRestoreScroll(this.props.history)?this.props.onLoadNewPosts():window.addEventListener('scroll',this.$FeedPage5)),r(d[32]).requestIdleCallback(()=>{r(d[33]).preloadPostModals()})}componentWillUnmount(){if(r(d[30]).hasFeedCaching()){window.removeEventListener('scroll',this.$FeedPage5);const{hasNewPosts:t,navSelection:s}=this.props;t&&s!==r(d[34]).NAVIGATION_SECTION_HOME&&(r(d[31]).clearScrollPosition(this.$FeedPage3),this.props.onLoadNewPosts())}}$FeedPage6(){const{hash:t}=this.props.history.location;if(t)switch(this.props.history.replace(this.props.history.location.pathname),t){case i(d[35]).sharePhoto:this.props.onStartCreation('feed_upsell',r(d[36]).CreationMode.POST);break;case i(d[35]).openGDPRMegaphone:this.props.onConsentFlowStart(r(d[15]).ConsentEntrypoints.MEGAPHONE);break;case i(d[35]).openGDPRFullscreen:this.props.onConsentFlowStart(r(d[15]).ConsentEntrypoints.FULLSCREEN);break;case i(d[35]).openGDPRDialog:this.props.onConsentFlowStart(r(d[15]).ConsentEntrypoints.DIALOG);break;case i(d[35]).confirmEmail:this.props.onSendConfirmEmail();break;case i(d[35]).changeEmail:this.props.history.push(r(d[37]).PROFILE_EDIT_PATH);break;case i(d[35]).turnOnDataSaver:r(d[38]).setDataSaverConfig({...r(d[38]).getDataSaverOnDefaultConfig()},!0),this.props.history.push(r(d[37]).DATA_SAVER_PREFERENCES_PATH);break;case i(d[35]).survey:this.props.onSetShowSurvey(!0)}}componentDidUpdate(t){var s,o;this.props.willScrollToTop&&this.$FeedPage7(),this.props.justPosted&&this.$FeedPage8(),this.$FeedPage6(),t.items&&this.props.items&&t.items.size!==this.props.items.size&&(this.$FeedPage1=r(d[39]).now()),this.$FeedPage4(),null!=t.items&&(null===(s=t.items)||void 0===s?void 0:s.size)!==(null===(o=this.props.items)||void 0===o?void 0:o.size)&&(r(d[40]).logComponentPerformanceTiming({component:'Feed',eventType:'nextPage',pageId:this.$FeedPage9(),route:this.props.route,timeTaken:r(d[39]).now()-this.$FeedPage1}),this.$FeedPage1=0);!t.hasNewPosts&&this.props.hasNewPosts&&0===window.scrollY&&this.props.onLoadNewPosts()}$FeedPage8(){this.props.onClearJustPosted()}$FeedPage15(){const{items:t,suggestedUserIds:s}=this.props;return null!=t&&0===t.size&&null!=s&&s.length>0}$FeedPage19(){return this.state.showProfilePicAdder&&a(d[2]).createElement(i(d[41]),{analyticsContext:l,className:"zMhqu",onHideClick:this.$FeedPage11,profilePicUploadIsInFlight:this.props.profilePicUploadIsInFlight})}$FeedPage20(){return a(d[2]).createElement(a(d[2]).Fragment,null,a(d[2]).createElement(i(d[42]),null),a(d[2]).createElement(i(d[43]),{campaign:"webSignup",onClose:this.$FeedPage12}))}$FeedPage21(){const t={[i(d[44]).fbconnect]:this.props.canFBConnect,[i(d[44]).gdprDialog]:!this.state.blockGDPRQPs,[i(d[44]).gdprFullscreen]:!this.state.blockGDPRQPs,[i(d[44]).gdprMegaphoneDis]:!this.state.blockGDPRQPs,[i(d[44]).gdprMegaphoneNondis]:!this.state.blockGDPRQPs};return this.props.onSetFeedPageFilter(t),a(d[2]).createElement(i(d[45]),{filter:t,slot:"feed"})}$FeedPage26(){const t=[];if(this.props.items)for(const s of this.props.items)switch(s.type){case r(d[46]).GRAPH_IMAGE:case r(d[46]).GRAPH_VIDEO:case r(d[46]).GRAPH_SIDECAR:t.push(s.postId)}return a(d[2]).createElement(i(d[47]),{postIds:t,viewKey:r(d[48]).FEED_VIEW})}$FeedPage27(){const{hasNextPage:t,items:s,maxPostsToDisplay:p,viewportWidth:h}=this.props;if(null==s)return a(d[2]).createElement(i(d[3]),{className:"KQA-S"});const c=h>=r(d[49]).SITE_WIDTHS.narrow?r(d[50]).VARIANTS.wide:r(d[50]).VARIANTS.narrow;return a(d[2]).createElement(a(d[2]).Fragment,null,s.size>0&&a(d[2]).createElement(o,{className:"_2eEhX",module:r(d[51]).MODULES.feed}),null!=p&&a(d[2]).createElement(i(d[52]),{allowSampledScrollLogging:!0,analyticsContext:l,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:"_8Rm4L",items:s,onNextPage:this.$FeedPage23,onPostImpression:this.$FeedPage24,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,variant:c,visibleCount:Math.min(p,s.size)}),!t&&null!=s&&s.size>0&&a(d[2]).createElement(n,{variant:c}))}$FeedPage28(){return null!=this.props.items&&this.props.items.size>0&&c(),a(d[2]).createElement(a(d[2]).Fragment,null,this.$FeedPage27(),this.$FeedPage26())}$FeedPage29(){const{followsSomeone:t,onScrollToTop:o,suggestedUserIds:n}=this.props;return a(d[2]).createElement(s,{followsSomeone:t,onScrollToTop:o,scrollToTop:this.$FeedPage7,suggestedUserIds:n})}$FeedPage30(){if(!r(d[19]).isMobile())return null;let t=null;return this.state.isZeroRatingNewAndResEligible?t='new_res_banner_impression':this.state.isZeroRatingSelectEligible?t='select_banner_impression':this.state.isZeroRatingSlimEligible&&(t='slim_banner_impression'),t&&!this.$FeedPage2&&(r(d[23]).logZeroEvent({event_name:t}),this.$FeedPage2=!0),t?a(d[2]).createElement(i(d[53]),null):null}$FeedPage31(){return this.props.isConsentModalOpen?null:r(d[19]).isIgLite()?i(d[54])._("35")&&r(d[55]).getUserPreferences().getItem('showIgLiteUpdateAppDialog')?a(d[2]).createElement(i(d[56]),null):a(d[2]).createElement(i(d[57]),null):r(d[58]).showAddToHomeScreen()?a(d[2]).createElement(i(d[60]),null):a(d[2]).createElement(i(d[59]),null)}$FeedPage32(){const{hasNewPosts:t}=this.props;return t&&a(d[2]).createElement(r(d[61]).Box,{position:"fixed"},a(d[2]).createElement(r(d[61]).Pill,{onClick:this.$FeedPage22},r(d[62])(500)))}render(){const t=this.$FeedPage15(),s=this.props.justPosted,o=this.props.likedByShortcode?a(d[2]).createElement(i(d[63]),{display:i(d[64]).modal,onClose:this.$FeedPage14,shortcode:this.props.likedByShortcode}):null,n=this.$FeedPage9(),l=t&&r(d[19]).isMobile();return a(d[2]).createElement(i(d[65]),{androidAppLink:s?void 0:'/_n/mainfeed/',footerVariant:this.$FeedPage10(this.$FeedPage18()),iOSAppLink:s?void 0:'mainfeed',maxWidth:r(d[19]).isMobile()||!t?r(d[49]).SITE_WIDTHS.narrow:r(d[49]).SITE_WIDTHS.wide,mobileHeader:a(d[2]).createElement(h,{location:this.props.location,newSuggestionsCount:this.props.newSuggestionsCount}),pageIdentifier:n},a(d[2]).createElement(i(d[66]),{id:n}),a(d[2]).createElement("section",{className:`_1SP8R ${r(d[19]).isDesktop()&&!0===i(d[21])._("67","2")?"C3uDN":""} ${this.$FeedPage18()?"j9XKR":""} ${r(d[19]).isMobile()?"M_qbh":""} ${l?"yWxDb":""}`},this.$FeedPage30(),this.props.showUploadProgressBar&&a(d[2]).createElement(i(d[67]),null),this.$FeedPage16()&&a(d[2]).createElement(i(d[68]),{key:"storyTray"}),a(d[2]).createElement("div",{className:this.$FeedPage18()?"cGcGK":""},this.$FeedPage17()&&a(d[2]).createElement(i(d[68]),{hideOwnStory:this.$FeedPage18(),key:"storyTray"}),!l&&(this.$FeedPage21()||this.$FeedPage19()),t?this.$FeedPage29():this.$FeedPage28()),this.$FeedPage18()&&a(d[2]).createElement(i(d[27]),null)),this.state.showAppInstallModal&&this.$FeedPage20(),this.$FeedPage31(),o,a(d[2]).createElement(i(d[69]),null),!this.state.showProfilePicAdder&&a(d[2]).createElement(i(d[70]),null),this.$FeedPage32(),this.props.extrasLoaded&&a(d[2]).createElement(i(d[71]),{prefetchContext:"feed"}),this.props.showSurvey&&a(d[2]).createElement(i(d[72]),{onClose:()=>this.props.onSetShowSurvey(!1)}),null!==this.props.postModalId&&a(d[2]).createElement(i(d[73]),{onClose:this.props.onClosePostModal,onOpen:this.$FeedPage25,postId:this.props.postModalId||''}))}}var u=r(d[74]).withRouter(i(d[75])('FeedPage',i(d[76])(P)));e.default=u,e.DEFAULT_PAGE_SIZE=p,e.FeedPage=P},13238277,[13238278,9961679,3,13238279,12845056,68,12910592,12976128,9699335,13238280,13238281,9699374,9961785,13238282,13238283,10092608,12189707,12386308,10092547,9699340,9699346,9699363,9764866,9699368,13238284,13238285,9961519,13238286,10092545,13041673,12189712,13238287,13238288,13238289,13238290,13238291,10092612,9699373,9961644,10092609,10092610,12713987,9961476,13238292,13238293,10092549,10092575,9961645,9961646,9961664,12976134,12910593,13238294,13238295,9699365,10092627,13238296,13238297,10092649,13238298,10092569,9699357,9699332,13238299,13238300,10092546,9699345,13238301,13238302,11927554,10485791,9961527,13238303,13238304,6,10092615,10092613]);
__d(function() {},13238278,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function({className:t}){const s=r(d[1]).useTheme();return a(d[2]).createElement("div",{className:i(d[3])("_tcb0",t)},a(d[2]).createElement("div",{className:"pOb2E"},a(d[2]).createElement("div",{className:"OzqB_"}),a(d[2]).createElement("div",{className:"L3tlg"},a(d[2]).createElement("div",{className:"_8VIOK"}),a(d[2]).createElement("div",{className:"u9F97"}))),a(d[2]).createElement("div",{className:`WidCF ${s.getTheme()===r(d[1]).THEME.dark?"-bs0y":""}`}))}},13238279,[13238305,10223617,3,9699353]);
__d(function() {},13238305,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var c=a(d[0]).memo(function(c){return a(d[0]).createElement(i(d[1]),i(d[2])({},c,{viewBox:"0 0 48 48"}),a(d[0]).createElement("path",{clipRule:"evenodd",d:"M38.5 46h-29c-5 0-9-4-9-9V17c0-5 4-9 9-9h1.1c1.1 0 2.2-.6 2.7-1.7l.5-1c1-2 3.1-3.3 5.4-3.3h9.6c2.3 0 4.4 1.3 5.4 3.3l.5 1c.5 1 1.5 1.7 2.7 1.7h1.1c5 0 9 4 9 9v20c0 5-4 9-9 9zm6-29c0-3.3-2.7-6-6-6h-1.1C35.1 11 33 9.7 32 7.7l-.5-1C31 5.6 29.9 5 28.8 5h-9.6c-1.1 0-2.2.6-2.7 1.7l-.5 1c-1 2-3.1 3.3-5.4 3.3H9.5c-3.3 0-6 2.7-6 6v20c0 3.3 2.7 6 6 6h29c3.3 0 6-2.7 6-6V17zM24 38c-6.4 0-11.5-5.1-11.5-11.5S17.6 15 24 15s11.5 5.1 11.5 11.5S30.4 38 24 38zm0-20c-4.7 0-8.5 3.8-8.5 8.5S19.3 35 24 35s8.5-3.8 8.5-8.5S28.7 18 24 18z",fillRule:"evenodd"}))});e.default=c},13238281,[3,9961677,9895972]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=()=>a(d[1]).createElement(r(d[2]).Image,{alt:r(d[3]).INSTAGRAM_TEXT,srcx:"images/web/mobile_nav_type_logo.png",__src:{light:"/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",dark:"/static/images/web/mobile_nav_type_logo-dark.png/ff9b85f2b7ca.png"},__srcSet:{light:"/static/images/web/mobile_nav_type_logo-2x.png/1b47f9d0e595.png 2x",dark:"/static/images/web/mobile_nav_type_logo-dark-2x.png/908edfc84eda.png 2x"}});var n=r(d[6]).withRouter(({history:n,isLink:l})=>{const o=n.location.pathname===r(d[4]).FEED_PATH,c=t=>{window.scrollTo(0,0),t.preventDefault()};return!0===l?a(d[1]).createElement("div",{className:"nLR5g"},a(d[1]).createElement(i(d[5]),{href:"/",onClick:o?c:void 0},a(d[1]).createElement(t,null))):a(d[1]).createElement("div",{className:"i4jjS"},a(d[1]).createElement(t,null))});e.default=n},13238282,[13238306,3,9699357,9699348,9699373,9699336,6]);
__d(function() {},13238306,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});class t extends a(d[4]).Component{constructor(...t){super(...t),this.state={isIgLiteCreationDialogOpen:!1},this.hideIgLiteCreationDialog=(()=>{this.setState({isIgLiteCreationDialogOpen:!1})}),this.$StoryCreationFileForm1=(()=>{this.setState({isIgLiteCreationDialogOpen:!0})}),this.handleStoryCreationClick=(()=>{r(d[0]).isIgLite()?this.$StoryCreationFileForm1():!0!==this.$StoryCreationFileForm2&&(i(d[1]).startFunnel(r(d[2]).STORY_CREATION_FUNNEL),this.$StoryCreationFileForm2=!0,this.props.onStartStoryCreation(this.props.entryPoint).then(()=>{i(d[3])(this.$StoryCreationFileForm3).selectFile(),this.$StoryCreationFileForm2=!1}).catch(()=>{this.$StoryCreationFileForm2=!1}))})}render(){return r(d[0]).isIgLite()?this.state.isIgLiteCreationDialogOpen&&a(d[4]).createElement(i(d[5]),{hideDialog:this.hideIgLiteCreationDialog,onImageFormError:this.props.onImageFormError,onMediaSelect:this.props.onMediaSelect,onStartCreation:this.props.onStartStoryCreation,showVideo:!0}):a(d[4]).createElement(i(d[6]),{acceptMimeTypes:['image/jpeg'],onFileChange:this.props.onMediaSelect,ref:t=>this.$StoryCreationFileForm3=t})}}var o=r(d[9]).connect(null,function(t){return{onMediaSelect(o){o.length&&(i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_PICKED_FILE),t(r(d[7]).storyCreationSelectMedia(o[0])))},onStartStoryCreation:o=>t(r(d[7]).startStoryCreationSession(o)),onImageFormError(){t(r(d[8]).showToast({text:r(d[6]).IMAGE_FORM_ERROR}))}}},null,{forwardRef:!0})(t);e.default=o,e.StoryCreationFileForm=t},13238283,[9699340,12189707,12189708,9699335,3,13238307,9895950,12189701,9961742,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.STORY_CREATION_BAD_ASPECT_RATIO='bad_aspect_ratio',e.STORY_CREATION_DISCARD_CANCEL='discard_cancel',e.STORY_CREATION_DISCARD_CONFIRMATION='discard_confirmation',e.STORY_CREATION_DOODLE_ENTER='story_creation_doodle_enter',e.STORY_CREATION_DOODLE_EXIT='story_creation_doodle_exit',e.STORY_CREATION_FINALIZE_FAILED='story_finalize_failed',e.STORY_CREATION_FUNNEL='IG_WEB_STORY_CREATION_FUNNEL',e.STORY_CREATION_PICKED_FILE='picked_file',e.STORY_CREATION_SAVE='save',e.STORY_CREATION_START_PICK_FILE='start_pick_file',e.STORY_CREATION_STORY_CREATION_FAILED='story_creation_failed',e.STORY_CREATION_STORY_CREATION_SUCCESS='story_creation_success',e.STORY_CREATION_UPLOAD_STAGE_SUCCESS='upload_staged',e.STORY_CREATION_UPLOAD_START='upload_start'},12189708,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){const o=n.storyCreation,{start_time:_,...T}=o.logData,E=(Date.now()-_)/1e3,R=o.canvasStickers;let O=!1;const S=[];for(const t of R)t.type===r(d[7]).TEXT_TYPE?O=!0:S.push(t.variants[0].id);return{...T,exit_point:r(d[6]).STORY_CREATION_EXIT_POINT.POST,has_brush:o.activeDrawing.linesArray.length>0,has_sticker:S.length>0,has_text:O,step:t,sticker_ids:S,waterfall_duration:E,waterfall_id:i(d[8])(o.sessionId)}}function n(n){return(o,_)=>{const T=_();return r(d[6]).logStoryCreationEvent(t('image_process_attempt',T)),i(d[14])(i(d[9])(n).then(T=>{o({type:r(d[0]).STORY_CREATION_IMAGE_PROCESSED,height:T.height,location:T.location,orientation:T.orientation,sourceDataURL:T.dataURL,sourceImage:n,width:T.width,flash:T.flash}),r(d[6]).logStoryCreationEvent(t('image_process_success',_())),i(d[15]).push('/create/story/')},n=>{r(d[6]).logStoryCreationEvent(t('image_process_failure',T)),o(r(d[3]).showToast({text:r(d[16])(2580),persistOnNavigate:!0})),n instanceof Error?(n.name='[StoryCreation] '+n.name,r(d[17]).logError(n)):i(d[18])('[StoryCreation] error in processing image')}))}}function o(t){return(n,o)=>{const _=Date.now().toString(),T=`story_${_}`;return i(d[14])(i(d[10])(t).then(o=>(n({type:r(d[0]).STORY_CREATION_VIDEO_PROCESSED,dataURL:o.src,entityName:T,file:t,uploadId:_,uploadMediaHeight:o.videoHeight,uploadMediaWidth:o.videoWidth,uploadMediaDurationMs:Math.floor(1e3*o.duration),videoTransform:null,mediaPublishMode:r(d[19]).MediaPublishMode.REEL}),i(d[20])(o))).then(t=>{n({type:r(d[0]).STORY_CREATION_VIDEO_COVER_PHOTO_UPDATED,dataURL:t.dataURL,entityName:T,file:t.file,uploadId:_,uploadMediaHeight:t.uploadMediaHeight,uploadMediaWidth:t.uploadMediaWidth}),i(d[15]).push('/create/story/')}).catch(t=>{t instanceof Error?(t.name='[StoryCreation] '+t.name,r(d[17]).logError(t)):i(d[18])('[StoryCreation] error in processing video')}))}}function _(t){return n=>i(d[14])(r(d[21]).creationFinalizeStory(t).then(o=>{if(!o.media||!o.media.pk)throw o;n({type:r(d[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:r(d[4]).VIDEO_ADDED_TEXT,persistOnNavigate:!0},uploadId:t}),n(T())}))}function T(){return(t,n)=>t(r(d[24]).refreshStoryReels()).then(()=>{const o=i(d[8])(r(d[25]).getViewer(n()));t(r(d[24]).invalidateStoryReel(o.id)),i(d[15]).push('/'),t(r(d[23]).setNavSelection('NAVIGATION_SECTION_HOME'))})}Object.defineProperty(e,'__esModule',{value:!0});const E='error',R=t=>{for(let n=0;n<t.length;n++)if('number'==typeof t[n].id)return n;return-1};e.setCanvasDimensions=function(t,n){return{type:r(d[0]).STORY_CREATION_SET_CANVAS_DIMENSIONS,canvasWidth:t,canvasHeight:n}},e.startStoryCreationSession=function(t){return(n,o)=>new Promise(function(_,T){const{viewportHeight:E,viewportWidth:R}=o().displayProperties;if(E<R)return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_BAD_ASPECT_RATIO),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),n(r(d[3]).showToast({text:r(d[4]).STORY_LANDSCAPE_WARNING_TEXT})),T({});i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_START_PICK_FILE);const O=i(d[5])();return n({type:r(d[0]).STORY_CREATION_SESSION_STARTED,sessionId:O,entryPoint:t,startTime:Date.now()}),r(d[6]).logStoryCreationEvent({step:'enter',waterfall_id:O,entry_point:t}),_({})})},e.storyCreationSelectMedia=function(t){return _=>{const T=t.type;r(d[9]).isImage(T)?_(n(t)):r(d[10]).isVideo(T)&&r(d[11]).getIgLiteStoryVideoUploadQE()?_(o(t)):(_(r(d[12]).updateCreationError(new Error(r(d[13]).NOT_SUPPORTED_MEDIA_TEXT))),_(r(d[12]).updateCreationDialogStatus('error')))}},e.storyCreationSelectImage=n,e.storyCreationSelectVideo=o,e.uploadStory=function(n,o){return(_,E)=>{_({type:r(d[0]).STORY_CREATION_UPLOAD_REQUESTED,uploadedBlob:n}),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_UPLOAD_START);let R=E();const O=R.storyCreation.activeText.renderText.join('\n');return r(d[6]).logStoryCreationEvent(t('compose_stage_attempt',R)),i(d[14])(r(d[21]).fbUploaderPhoto(n).then(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_UPLOAD_STAGE_SUCCESS);const o=n.upload_id;return _({type:r(d[0]).STORY_CREATION_UPLOAD_STAGED,uploadId:o}),R=E(),r(d[6]).logStoryCreationEvent(t('compose_finalize_attempt',R)),r(d[21]).creationFinalizeStory(o,O).then(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_STORY_CREATION_SUCCESS),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),r(d[6]).logStoryCreationEvent(t('compose',R)),_({type:r(d[0]).STORY_CREATION_UPLOAD_SUCCEEDED,toast:{text:r(d[4]).PHOTO_ADDED_TEXT,persistOnNavigate:!0},uploadId:o}),_(T())}).catch(t=>{throw i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_FINALIZE_FAILED),t})}).catch(n=>{i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_STORY_CREATION_FAILED),o||i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),r(d[6]).logStoryCreationEvent(t('compose_failure',R)),_({type:r(d[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:r(d[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0,actionText:o&&r(d[22]).RETRY_TEXT,actionHandler:o}}),n instanceof Error?(n.name='[StoryCreation] '+n.name,r(d[17]).logError(n)):i(d[18])('[StoryCreation] error in uploading story')}))}},e.uploadStoryVideo=function(){return(t,n)=>{const{sourceVideo:o,coverPhoto:T}=n().storyCreation,E=i(d[8])(o).uploadId;return t({type:r(d[0]).STORY_CREATION_VIDEO_UPLOAD_REQUESTED}),i(d[14])(r(d[21]).ruploadVideo(o).then(()=>r(d[21]).ruploadPhoto(T)).then(()=>t(_(E))).catch(n=>{i(d[15]).push('/'),t(r(d[23]).setNavSelection('NAVIGATION_SECTION_HOME')),t({type:r(d[0]).STORY_CREATION_UPLOAD_FAILED,toast:{text:r(d[4]).UPLOAD_FAILED_TEXT,persistOnNavigate:!0}})}))}},e.refreshStoryReelAndNavigateToFeed=T,e.changeActiveText=function(t,n,o){return{type:r(d[0]).STORY_CREATION_CHANGE_TEXT,rawText:t,width:n,height:o}},e.enterAddText=function(){return{type:r(d[0]).STORY_CREATION_ENTER_ADD_TEXT}},e.enterEditText=function(){return{type:r(d[0]).STORY_CREATION_ENTER_EDIT_TEXT}},e.saveText=function(t,n){return{type:r(d[0]).STORY_CREATION_SAVE_TEXT,renderText:t,timeSpent:n}},e.transformCanvasSticker=function(t,n){return{type:r(d[0]).STORY_CREATION_TRANSFORM_CANVAS_STICKER,stillMoving:t,transform:n}},e.deleteCanvasSticker=function(){return{type:r(d[0]).STORY_CREATION_DELETE_CANVAS_STICKER}},e.moveCanvasSticker=function(t,n,o){return{type:r(d[0]).STORY_CREATION_MOVE_CANVAS_STICKER,deltaX:t,deltaY:n,overTrash:o}},e.changeBrush=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_ACTIVE_BRUSH,brush:t}},e.changeBrushSize=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_BRUSH_SIZE,size:t}},e.changeColor=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_COLOR,color:t}},e.changeDrawColor=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_DRAW_COLOR,color:t}},e.editDrawing=function(){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DOODLE_ENTER),{type:r(d[0]).STORY_CREATION_EDIT_DRAWING}},e.startDrawing=function(t){return{type:r(d[0]).STORY_CREATION_START_DRAWING,startIndex:t}},e.drawLineAction=function(t){return{type:r(d[0]).STORY_CREATION_DRAW_LINE,line:t}},e.useModal=function(t){return{type:r(d[0]).STORY_CREATION_USE_MODAL,isUsingModal:t}},e.undoDrawing=function(){return{type:r(d[0]).STORY_CREATION_UNDO_DRAWING}},e.saveDrawing=function(t){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DOODLE_EXIT),{type:r(d[0]).STORY_CREATION_SAVE_DRAWING,timeSpent:t}},e.openStickerTool=function(){return{type:r(d[0]).STORY_CREATION_OPEN_STICKER_TOOL}},e.closeStickerTool=function(){return{type:r(d[0]).STORY_CREATION_CLOSE_STICKER_TOOL}},e.changeStickerOrder=function(t){return{type:r(d[0]).STORY_CREATION_CHANGE_STICKER_ORDER,bumpIndex:t}},e.addSticker=function(t){return{type:r(d[0]).STORY_CREATION_ADD_STICKER,sticker:t}},e.cacheStickerResults=function(){return(t,n)=>{const o=r(d[25]).getViewer(n());return r(d[7]).getPosition().then(n=>{const _={latitude:n.coords.latitude,longitude:n.coords.longitude};return i(d[14])(r(d[21]).getStickers({user:o,location:_}).then(n=>{const o=R(n.static_stickers);t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:n.static_stickers.slice(o)})},n=>{t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:E})}))},n=>i(d[14])(r(d[21]).getStickers({user:o,location:null}).then(n=>{const o=R(n.static_stickers);t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:n.static_stickers.slice(o)})},n=>{t({type:r(d[0]).STORY_CREATION_CACHE_STICKER_RESULTS,results:E})})))}},e.resetStickerResults=function(){return(t,n)=>new Promise((n,o)=>(t({type:r(d[0]).STORY_CREATION_RESET_STICKER_RESULTS}),n({})))},e.saveStory=function(){return i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_SAVE),{type:r(d[0]).STORY_CREATION_SAVE_STORY}},e.attemptExitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit_attempt',o())),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DISCARD_CONFIRMATION),n({type:r(d[0]).STORY_CREATION_EXIT_ATTEMPT})}},e.exitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit',o())),i(d[1]).endFunnel(r(d[2]).STORY_CREATION_FUNNEL),n({type:r(d[0]).STORY_CREATION_EXIT})}},e.cancelExitStoryCreation=function(){return(n,o)=>{r(d[6]).logStoryCreationEvent(t('exit_cancel',o())),i(d[1]).appendAction(r(d[2]).STORY_CREATION_FUNNEL,r(d[2]).STORY_CREATION_DISCARD_CANCEL),n({type:r(d[0]).STORY_CREATION_EXIT_CANCEL})}},e.toggleStickerVariant=function(){return{type:r(d[0]).STORY_CREATION_TOGGLE_STICKER_VARIANT}}},12189701,[12189706,12189707,12189708,9961742,12189698,10158126,12189709,12189710,9699335,10158334,12189711,12189712,10092640,12124198,9895947,9699333,9699332,9568259,9961564,9961690,12189713,9961745,9699348,9961755,9961477,9699376]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const T=r(d[0])(2935),_=r(d[0])(1339),E=r(d[0])(3349),O=r(d[0])(620),I=r(d[0])(514),R=r(d[0])(607),A=r(d[0])(2327),D=r(d[0])(2561),N=r(d[0])(431),X=r(d[0])(1485),C=r(d[0])(459),S=r(d[0])(2364),Y=r(d[0])(1307),P=r(d[0])(846),L=r(d[0])(1674),F=r(d[0])(306),M=r(d[0])(1065),t=r(d[0])(3421),c=r(d[0])(3027),n=r(d[0])(2433),o=r(d[0])(2132);e.EXIT_STORY_CREATION_CONFIRM_TITLE=T,e.EXIT_STORY_CREATION_CONFIRM_TEXT=_,e.EXIT_STORY_VIDEO_CREATION_CONFIRM_TITLE=E,e.EXIT_STORY_VIDEO_CREATION_CONFIRM_TEXT=O,e.EXIT_STORY_CREATION_DISCARD_TEXT=I,e.EXIT_STORY_CREATION_KEEP_TEXT=R,e.EXIT_STORY_CREATION_KEEP_MEDIA_TEXT=A,e.STORY_LANDSCAPE_WARNING_TEXT=D,e.STORY_LANDSCAPE_WARNING_TEXT_EDITING=N,e.TAP_FOR_MORE=X,e.CANNOT_LOAD_STICKERS=C,e.CHECK_CONNECTION=S,e.RETRY=Y,e.ADD_TO_STORY_TEXT=P,e.PHOTO_ADDED_TEXT=L,e.VIDEO_ADDED_TEXT=F,e.UPLOAD_FAILED_TEXT=M,e.PHOTO_ADDED_TEXT_NEW=t,e.UPLOAD_FAILED_TEXT_NEW=c,e.YOUR_STORY_TEXT=n,e.SEND_TO_TEXT=o},12189698,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={event_name:'reel_creation_waterfall',library_upload_count:1,library_media_available:1,media_type:'1',source:'library',has_flash:!1,camera_position:null,capture_type:'normal',text_edit_count:0,text_edit_duration:0,tool_toggle_count:0,duration:0,color_toggle_count:0,save_media_count:0,has_text:!1,has_brush:!1,sticker_ids:[],sticker_toggle_count:0,has_sticker:!1};e.STORY_CREATION_EXIT_POINT={POST:1,EXIT:2,UNKNOWN:-1},e.logStoryCreationEvent=function(_){switch(_.step){case'enter':case'image_process_attempt':case'image_process_success':case'image_process_failure':return void r(d[0]).logPigeonEvent(r(d[1]).createEvent('instagram_web_story_creation',r(d[0]).getExtra({..._,event_name:'reel_creation_waterfall'})));case'compose_stage_attempt':case'compose_finalize_attempt':case'compose_failure':case'compose':case'exit_attempt':case'exit_cancel':case'exit':return void r(d[0]).logPigeonEvent(r(d[1]).createEvent('instagram_web_story_creation',r(d[0]).getExtra({...t,..._})))}}},12189709,[9699368,9961695]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.IG_WEB_NUX_FUNNEL='IG_WEB_NUX_FUNNEL',e.NUX_FUNNEL_FACEBOOK_INTERSTITIAL='fb_interstitial',e.NUX_FUNNEL_PROFILE_PIC_INTERSTITIAL='prof_pic_interstitial',e.NUX_FUNNEL_IMPORT_CONTACTS_INTERSTITIAL='contacts_interstitial',e.NUX_FUNNEL_ADD_PHONE_NUMBER_INTERSTITIAL='phone_num_interstitial',e.NUX_FUNNEL_EMPTY_FEED_WITH_SU='empty_feed_with_su',e.NUX_FUNNEL_EMPTY_FEED_WITHOUT_SU='empty_feed_without_su',e.NUX_FUNNEL_FEED='feed',e.NUX_FUNNEL_DISCOVER_PEOPLE='discover_people'},12386308,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o={photo:1,video:2,carousel:8},t={containermodule:'feed_timeline',delivery_class:'organic',hashtag_follow_status:'following',inventory_source:'follow_hashtag_story',is_id:!1,device_os:'Web'};e.logImpression=function(n){const{followHashtagInfo:s}=n,l=!0===n.isSidecar?'carousel':!0===n.isVideo?'video':'photo',_={...r(d[0]).getExtra(),...t,event_name:'impression',hashtag_id:null===s||void 0===s?void 0:s.id,hashtag_name:null===s||void 0===s?void 0:s.name,m_pk:n.id,media_type:o[l],media_type_name:l,deviceid:r(d[1]).getDeviceOrMachineId(),device_model:r(d[2]).getBrowserString(),primary_locale:r(d[3]).getLocale()};r(d[0]).logPigeonEvent(r(d[4]).createEvent('instagram_organic_impression',_,{module:'feed_timeline'}))}},13238284,[9699368,9961747,9699340,9699344,9961695]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const n=a(d[3]).lazy(()=>r(d[2])(d[1],"FeedSidebarContainer")),t=function(){return a(d[3]).createElement("div",{className:"wAANn"},a(d[3]).createElement(r(d[4]).Spinner,{position:"absolute",size:"small"}))};var l=i(d[6])('FeedSidebarContainerModule',function(l){return a(d[3]).createElement(i(d[5]),{loadingRenderer:a(d[3]).createElement(t,null)},a(d[3]).createElement(n,{onDisplayDone:l.onDisplayDone}))});e.default=l,e.preloadModule=function(){r(d[2])(d[1],"FeedSidebarContainer")}},13238286,[13238308,13041664,68,3,9699357,13238309,10092615]);
__d(function() {},13238308,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.default={changeEmail:'#change-email',changePhone:'#change-phone',confirmEmail:'#confirm-email',confirmPhone:'#confirm-phone',importContacts:'#import-contacts',openGDPRDialog:'#consent',openGDPRFullscreen:'#open-GDPR-fullscreen',openGDPRMegaphone:'#open-gdpr',sharePhoto:'#share-photo',survey:'#survey',turnOnDataSaver:'#data-saver-on'}},13238291,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=1e4;var o=r(d[10]).connect(null,function(t){return{onNextButtonClick(){t(r(d[7]).syncProfilePic(i(d[8]).regInterstitialPage)),t(r(d[9]).showToast({text:r(d[7]).PROFILE_PIC_ADDED_TOAST_MESSAGE,persistOnNavigate:!0}))}}},null,{forwardRef:!0})(class extends a(d[1]).Component{constructor(...t){super(...t),this.handleSelectButtonClick=(t=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleEditProfilePic(t)}),this.handleNextButtonClick=(t=>{this.props.onNextButtonClick(),this.props.onHideClick()})}componentDidUpdate(o){o.profilePicUploadIsInFlight&&!this.props.profilePicUploadIsInFlight&&(o.onHideClick(),this.$ProfilePicAdder1=setTimeout(()=>{this.$ProfilePicAdder2&&this.$ProfilePicAdder2.handleCloseEditProfilePicMenu()},t))}componentWillUnmount(){clearTimeout(this.$ProfilePicAdder1)}$ProfilePicAdder3(){return this.$ProfilePicAdder4()?a(d[1]).createElement("div",{className:"iOyYw",key:"profile_pic"},a(d[1]).createElement("img",{alt:"",className:"_7YDdj",src:this.props.profilePictureUrl})):a(d[1]).createElement(r(d[2]).BorderedIcon,{alt:r(d[3])(2503),icon:r(d[2]).ICONS.USER_OUTLINE_24_GREY9,size:r(d[2]).CORE_CONSTANTS.AVATAR_SIZES.large})}$ProfilePicAdder4(){return!!this.props.profilePictureUrl}$ProfilePicAdder5(){if(null==this.props.secondaryButtonText||''===this.props.secondaryButtonText)return null;const t=null==this.props.profilePictureUrl||''===this.props.profilePictureUrl?this.props.onSecondaryButtonClick:this.handleSelectButtonClick;return a(d[1]).createElement("button",{className:this.props.secondaryButtonClass,onClick:t},this.props.secondaryButtonText)}render(){return a(d[1]).createElement("section",{className:this.props.className},a(d[1]).createElement(i(d[4]),{bodyText:this.props.bodyText||r(d[3])(20),buttonText:this.$ProfilePicAdder4()?r(d[3])(2340):r(d[3])(2360),headerText:this.props.headerText||r(d[3])(1202),icon:this.$ProfilePicAdder3(),isProcessing:this.props.profilePicUploadIsInFlight,onButtonClick:this.$ProfilePicAdder4()?this.handleNextButtonClick:this.handleSelectButtonClick}),a(d[1]).createElement(i(d[5]),{analyticsContext:this.props.analyticsContext,hasExistingPic:this.$ProfilePicAdder4(),ref:t=>this.$ProfilePicAdder2=t,skipEditMenu:!!i(d[6])._("23","0")}),this.$ProfilePicAdder5())}});e.default=o},12713987,[12713990,3,9699357,9699332,10092628,10485791,9699363,9961859,9699346,9961742,5]);
__d(function() {},12713990,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=t=>a(d[1]).createElement("section",{className:i(d[2])("ABCxa",t.className)},a(d[1]).createElement("div",{className:"JErX0"},a(d[1]).createElement("div",{className:"ig3mj"},t.icon),a(d[1]).createElement("div",{className:"olLwo"},t.headerText),a(d[1]).createElement("div",{className:"f5C5x"},t.bodyText),!t.hideAction&&a(d[1]).createElement(r(d[3]).Button,{disabled:t.buttonDisabled,loading:t.isProcessing,onClick:t.onButtonClick},t.buttonText),t.footer));t.defaultProps={hideAction:!1};var c=t;e.default=c},10092628,[10092634,3,9699353,9699357]);
__d(function() {},10092634,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[12]).connect(function(t,n){return{promotion:r(d[10]).getValidPromotion(t,n)}},function(t){return{onLoadQPs(n){t(r(d[11]).fetchBatchQuickPromotionAction(n))}}})(class extends a(d[6]).PureComponent{componentDidMount(){const{promotion:t,slot:n}=this.props;t||this.props.onLoadQPs(a(d[0]).SLOT_TO_SURFACES[n])}componentDidUpdate(t){var n,o,s,c,l,p;(null===(n=t.promotion)||void 0===n?void 0:null===(o=n.template)||void 0===o?void 0:o.name)!==(null===(s=this.props.promotion)||void 0===s?void 0:null===(c=s.template)||void 0===c?void 0:c.name)&&[a(d[0]).TEMPLATES.standard_megaphone,a(d[0]).TEMPLATES.standard_megaphone_ig].includes(null===(l=this.props.promotion)||void 0===l?void 0:null===(p=l.template)||void 0===p?void 0:p.name)}$QPManager1(t){const{TEMPLATES:n}=a(d[0]);switch(t.name){case n.standard_megaphone_ig:case n.standard_megaphone:return i(d[1]);case n.iig_dialog:return i(d[2]);case n.iig_fullscreen:return i(d[3]);case n.instagram_direct_launcher:return i(d[4])('IG Web does not currently support the instagram_direct_launcher template'),null;case n.instagram_footer_banner:return i(d[5]);case n.instagram_tool_tip:return null;default:return i(d[4])(`Attempted to render unsupported QP template type: ${t.name}`),null}}render(){const{promotion:t}=this.props;if(!t)return null;const{creatives:n,id:o,surface_id:s,template:c}=t,{bloks_payload:l,content:p,dismiss_action:u,image:_,primary_action:h,secondary_action:v,title:f}=n[0];return l?a(d[6]).createElement(r(d[7]).ConnectedLifecycleLogger,{name:`QPManager-${c.name}-bloks`},a(d[6]).createElement(i(d[8]),{node:l.layout,promotionId:o,surfaceId:s})):a(d[6]).createElement(r(d[7]).ConnectedLifecycleLogger,{name:`QPManager-${c.name}-react`},a(d[6]).createElement(i(d[9]),{body:p,component:this.$QPManager1(c),dismissAction:u,image:_,imageSize:a(d[0]).IMAGE_SIZES[c.name],primaryAction:h,promotionId:o,secondaryAction:v,surfaceId:s,title:f}))}});e.default=t},10092549,[10092551,10092552,10092553,10092554,9961564,10092555,3,10092556,10092557,10092558,10092559,10092560,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=({action:t,isPrimary:n,onClick:s})=>a(d[1]).createElement(r(d[2]).Box,{marginTop:n?2:3},a(d[1]).createElement(r(d[2]).Button,{borderless:!n,dangerouslySetClassName:{__className:`${n?"aPBwk":""} ${n?"":"G2rOZ"}`},fullWidth:!0,onClick:s},t.title.text));class n extends a(d[1]).Component{constructor(...t){super(...t),this.state={hideMegaphone:!1},this.$QPStandardMegaphone1=((t,n=!0,s)=>{n&&this.setState({hideMegaphone:!0}),t&&t(s)}),this.$QPStandardMegaphone2=(t=>{t.preventDefault(),this.$QPStandardMegaphone1(this.props.onDismissButtonClick,!0,t)})}componentDidMount(){i(d[3]).incr('web.notifications.react_qp_render')}render(){if(!0===this.props.showCookieBanner||this.state.hideMegaphone)return null;const{body:n,dismissAction:s,image:o,title:c,type:l}=this.props;return a(d[1]).createElement(r(d[2]).Box,{marginBottom:r(d[4]).isMobile()?0:8},a(d[1]).createElement("section",{className:`bR_3v ${'loggedOut'===l?"Fzijm":""} ${'loggedInHalfSheet'===l?"mSQl2":""}`},a(d[1]).createElement("div",{className:"w03Xk"},a(d[1]).createElement(r(d[5]).QPDismiss,{className:"Ls00D",dismissAction:s,onClick:this.$QPStandardMegaphone2}),a(d[1]).createElement("div",{className:"pHxcJ"},a(d[1]).createElement(r(d[5]).QPImage,{className:"gAoda",image:o,size:this.props.imageSize}),a(d[1]).createElement("span",{className:"_0DvBq"},a(d[1]).createElement(r(d[5]).QPText,{className:"gAo1g",text:c}),a(d[1]).createElement(r(d[5]).QPText,{className:"nwq6V",text:n})),a(d[1]).createElement("span",{className:"DZiHE"},a(d[1]).createElement(r(d[5]).QPButton,{Button:t,callback:this.$QPStandardMegaphone1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),a(d[1]).createElement(r(d[5]).QPButton,{Button:t,callback:this.$QPStandardMegaphone1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"}))))))}}n.defaultProps={type:'default'};var s=r(d[6]).connect(function(t){return{showCookieBanner:t.cookieBanner.visible}})(n);e.default=s,e.QPStandardMegaphone=n},10092552,[10092561,3,9699357,9568257,9699340,10092562,5]);
__d(function() {},10092561,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[4]).withRouter(class extends a(d[2]).Component{constructor(...t){super(...t),this.state={hideDialog:!1},this.$QPStandardDialog1=(()=>{this.setState({hideDialog:!0})}),this.$QPStandardDialog2=(t=>{if(t.dismiss_promotion&&this.$QPStandardDialog1(),t.url){const o=r(d[0]).getQPDeepLinkUrl(t.url);null!=o&&''!==o?this.props.history.push(o):r(d[1]).redirect(t.url)}}),this.$QPStandardDialog3=(t=>{this.props.primaryAction&&(this.$QPStandardDialog2(this.props.primaryAction),this.props.onPrimaryButtonClick&&this.props.onPrimaryButtonClick(t))}),this.$QPStandardDialog4=(t=>{this.props.secondaryAction&&(this.$QPStandardDialog2(this.props.secondaryAction),this.props.onSecondaryButtonClick&&this.props.onSecondaryButtonClick(t))}),this.$QPStandardDialog5=(()=>{this.props.dismissAction&&(this.$QPStandardDialog1(),this.props.onDismissButtonClick&&this.props.onDismissButtonClick())})}render(){var t,o;if(this.state.hideDialog)return null;const{body:s,image:n,imageSize:l,primaryAction:c,secondaryAction:p,title:h}=this.props,u=a(d[2]).createElement(r(d[3]).DialogCircleMedia,{icon:a(d[2]).createElement(r(d[0]).QPImage,{image:n,size:l})});return a(d[2]).createElement(r(d[3]).Dialog,{body:null===s||void 0===s?void 0:s.text,media:u,onModalClose:this.$QPStandardDialog5,title:null===h||void 0===h?void 0:h.text},c&&a(d[2]).createElement(r(d[3]).DialogItem,{color:"ig-primary-button",onClick:this.$QPStandardDialog3},null===(t=c.title)||void 0===t?void 0:t.text),p&&a(d[2]).createElement(r(d[3]).DialogItem,{onClick:this.$QPStandardDialog4},null===(o=p.title)||void 0===o?void 0:o.text))}});e.default=t},10092553,[10092562,9699333,3,9699357,6]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=({action:t,isPrimary:s,onClick:n})=>{const l=a(d[1]).useCallback(t=>{n(),t.preventDefault()});return a(d[1]).createElement(r(d[2]).Button,{borderless:!s,fullWidth:!0,onClick:l},t.title.text)};class s extends a(d[1]).Component{constructor(...t){super(...t),this.state={hideInterstial:!1},this.$QPFullscreenInterstitial1=((t,s=!0,n)=>{s&&this.setState({hideInterstial:!0}),t&&t(n)}),this.$QPFullscreenInterstitial2=(t=>{t.preventDefault(),this.$QPFullscreenInterstitial1(this.props.onDismissButtonClick,!0,t)})}render(){return this.state.hideInterstial?null:a(d[1]).createElement("div",{className:"bLOrn"},a(d[1]).createElement("div",{className:"QEbUV"},a(d[1]).createElement(r(d[3]).QPImage,{className:"WzKC6",image:this.props.image,size:this.props.imageSize}),a(d[1]).createElement(r(d[3]).QPText,{className:"K4-p0",text:this.props.title}),a(d[1]).createElement(r(d[3]).QPText,{className:"_-5Qf-",text:this.props.body}),a(d[1]).createElement(r(d[3]).QPButton,{Button:t,callback:this.$QPFullscreenInterstitial1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),a(d[1]).createElement(r(d[2]).Box,{marginTop:2},a(d[1]).createElement(r(d[3]).QPButton,{Button:t,callback:this.$QPFullscreenInterstitial1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"}))))}}var n=s;e.default=n,e.QPFullscreenInterstitial=s},10092554,[10092563,3,9699357,10092562]);
__d(function() {},10092563,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){const{body:n,dismissAction:o,image:c,imageSize:s,onDismissButtonClick:u,onPrimaryButtonClick:l,onSecondaryButtonClick:y,primaryAction:B,secondaryAction:k,title:A}=t;return a(d[0]).createElement(i(d[1]),{body:n,dismissAction:o,image:c,imageSize:s,onDismissButtonClick:u,onPrimaryButtonClick:l,onSecondaryButtonClick:y,primaryAction:B,secondaryAction:k,title:A,type:"loggedOut"})}Object.defineProperty(e,'__esModule',{value:!0});var n=t;e.default=n,e.QPFooterBanner=t},10092555,[3,10092552]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var o=a(d[1]).memo(function({node:o,promotionId:t,surfaceId:n}){const[c,s]=a(d[1]).useState(!0),l=a(d[1]).useMemo(()=>({nux_id:n,promotion_id:t}),[n,t]);a(d[1]).useEffect(()=>{r(d[2]).logQuickPromotionEvent(r(d[3]).LOG_EVENTS.view,l)},[l]);const u=a(d[1]).useCallback(o=>{'DISMISS'===o&&s(!1),r(d[2]).logQuickPromotionEvent(r(d[3]).LOG_EVENTS.click,{...l,object_id:o.toLowerCase()})},[l]);return c?a(d[1]).createElement("div",{className:"DCpAF"},a(d[1]).createElement("div",{className:"_1ssW0"},a(d[1]).createElement(i(d[4]),{node:o,onQPClick:u}))):null});e.default=o},10092557,[10092564,3,9699368,10092551,10092565]);
__d(function() {},10092564,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function s(n,t=null){return n.sidecarChildren&&n.sidecarChildren.length?s(n.sidecarChildren[0]):!0===n.isVideo?null:null!=n.src&&''!==n.src&&n.displayResources?{type:r(d[0]).PREFETCHED_IMAGE,id:n.id,src:n.src,srcSet:n.displayResources,intrinsicDimensions:i(d[1])(n.dimensions)}:null}Object.defineProperty(e,'__esModule',{value:!0});const n=[];var t=r(d[4]).connect(function(t,l){const c=l.getResourceFromPost||s,o=r(d[2]).getCurrentReel(t),u=t.stories.currentReelItemIndex;return{currentPostId:null!=o&&null!=o.itemIds?o.itemIds[u]:null,enabled:null==l.viewKey||!!t.mediaPrefetches.isEnabledForView.get(l.viewKey),resources:(l.postIds||n).map(s=>c(r(d[3]).getPostById(t,s),o)).filter(Boolean)}})(i(d[0]));e.default=t},9961645,[9961567,9699335,9961479,9961647,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t='PREFETCHED_IMAGE',s=new Set,c=new Set,n=new Set,o=[],h=1e4;class l extends a(d[3]).Component{constructor(...t){super(...t),this.state={next:null},this.$MediaPrefetcher4=(t=>s.has(t)||c.has(t)),this.$MediaPrefetcher1=(()=>{if(null==this.props.postIds)return!1;for(const t of this.props.resources)if(!this.$MediaPrefetcher4(t.id))return!1;return!0}),this.$MediaPrefetcher3=(()=>{const{next:t}=this.state;if(null!=t&&!n.has(t.id)){const c=setTimeout(()=>{s.has(t.id)||this.$MediaPrefetcher5(t.id)},h);n.add(t.id),o.push(c)}}),this.$MediaPrefetcher2=(()=>{this.props.resources.length>0&&(r(d[1]).logAction_DEPRECATED('mediaPrefetchComplete',{successCount:s.size,timeoutCount:c.size,eligibleResourceCount:this.props.resources.length,viewKey:this.props.viewKey}),i(d[2]).incr('web.media_prefetch.complete')),null!=this.props.onLoadComplete&&this.props.onLoadComplete()}),this.$MediaPrefetcher5=(t=>{r(d[1]).logAction_DEPRECATED('mediaPrefetchTimedOut',{resource:this.state.next}),i(d[2]).incr('web.media_prefetch.timeout'),c.add(t),n.delete(t),this.setState(l.prefetchNext(this.props)),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()}),this.$MediaPrefetcher6=(()=>{const t=this.state.next;null!=t&&(r(d[1]).logAction_DEPRECATED('mediaPrefetchSuccess',{resource:this.state.next}),i(d[2]).incr('web.media_prefetch.success'),s.add(t.id),this.setState(l.prefetchNext(this.props))),this.$MediaPrefetcher1()&&this.$MediaPrefetcher2()})}static getDerivedStateFromProps(t){return l.prefetchNext(t)}componentDidMount(){this.$MediaPrefetcher1()?this.$MediaPrefetcher2():this.$MediaPrefetcher3()}componentDidUpdate(){this.$MediaPrefetcher3()}componentWillUnmount(){n.clear(),c.clear();for(const t of o)clearTimeout(t);o.length=0}shouldComponentUpdate(t,s){return this.props.enabled!==t.enabled||this.state.next!==s.next}static prefetchNext(t){const{resources:n,enabled:o}=t;if(!o)return null;for(const t of n)if(!s.has(t.id)&&!c.has(t.id))return{next:t};return{next:null}}render(){const{currentPostId:s,enabled:c,layoutWrapper:n}=this.props,{next:o}=this.state;if(null==o||!c)return null;const h=!this.$MediaPrefetcher4(o.id)&&(null==s||null!=s&&s!==o.id)&&(o.type===t?a(d[3]).createElement(i(d[4]),{className:"ZIm78",key:o.src,onError:this.$MediaPrefetcher6,onLoad:this.$MediaPrefetcher6,src:o.src,srcSet:o.srcSet}):a(d[3]).createElement(i(d[5]),{className:"ZIm78",key:o.src,onError:this.$MediaPrefetcher6,onLoaded:this.$MediaPrefetcher6,preloadOnly:!0,sources:o.srcSet}));return a(d[3]).createElement(n,{resource:o},h)}}l.defaultProps={enabled:!0,layoutWrapper:({children:t})=>t},e.default=l,e.PREFETCHED_IMAGE=t,e.PREFETCHED_VIDEO='PREFETCHED_VIDEO',e.TIMEOUT_DURATION=h,e._resetState=function(){s.clear(),n.clear(),c.clear()}},9961567,[9961569,9699368,9568257,3,9961559,9961560]);
__d(function() {},9961569,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var o=i(d[8])(i(d[9])(i(d[10])(function(o,t){const s=o.sources,n=t.sources;if(s===n)return!1;if(s.length!==n.length)return!0;for(let o=0;o<s.length;++o)if(s[o].src!==n[o].src)return!0;return!1})(class extends a(d[4]).PureComponent{constructor(o){super(o),this.$ResponsiveVideo4=(o=>{this.$ResponsiveVideo2=o,this.props.videoRef&&this.props.videoRef(o)}),this.state={width:null}}$ResponsiveVideo1(){return i(d[0])(this.$ResponsiveVideo2).getBoundingClientRect().width}$ResponsiveVideo3(){return this.$ResponsiveVideo1()*(window.devicePixelRatio||1)}$ResponsiveVideo5(o,t,s){return null==o?t:this.props.downgradeVideoResolution?t.configWidth<o.configWidth?t:o:o.configWidth<s&&t.configWidth>o.configWidth?t:t.configWidth>s&&t.configWidth<=o.configWidth?t:o}$ResponsiveVideo6(o){let t=null,s=null;const n=[];for(const l of this.props.sources)switch(l.profile){case r(d[1]).PROFILE_MAIN:t=this.$ResponsiveVideo5(t,l,o);break;case r(d[1]).PROFILE_BASELINE:s=this.$ResponsiveVideo5(s,l,o);break;default:i(d[2])('got video candidate without a supported profile: '+String(l.profile)),n.push(l)}return[...null!=t?[t]:[],...null!=s?[s]:[],...n]}componentDidMount(){a(d[3]).measure(()=>{if(this.$ResponsiveVideo7)return;const o=this.$ResponsiveVideo3();a(d[3]).mutate(()=>{this.$ResponsiveVideo7||this.setState({width:o})})})}componentWillUnmount(){this.$ResponsiveVideo7=!0}render(){const{width:o}=this.state,{autoPlay:t,className:s,downgradeImageResolution:n,downgradeVideoResolution:l,forwardedRef:u,imageResolution:c,isDataSaverMode:p,preloadOnly:h,sources:f,style:R,toggleDataSaverConfig:v,videoRef:V,...$}=this.props,w=Object.freeze({...$,...null!=t?{autoPlay:t}:{}});if(null==o)return a(d[4]).createElement("video",{className:s,ref:this.$ResponsiveVideo4,style:R});if(h){const{onError:t,onLoaded:s}=this.props,n=this.$ResponsiveVideo6(o);return null!=t&&null!=s&&a(d[4]).createElement(i(d[5]),{onError:t,onLoaded:s,src:n[0].src,timeout:r(d[6]).TIMEOUT_DURATION})}return a(d[4]).createElement("video",i(d[7])({className:s,ref:u||this.$ResponsiveVideo4,style:R},w),this.$ResponsiveVideo6(o).map((o,t)=>a(d[4]).createElement("source",{key:t,src:o.src,type:o.mimeType})))}})));e.default=o},9961560,[9699335,9961563,9961564,9961565,3,9961566,9961567,9895972,9961568,9961531,9961516]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.PROFILE_MAIN='MAIN',e.PROFILE_BASELINE='BASELINE'},9961563,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=t=>{const[o]=r(d[0]).useState(()=>new XMLHttpRequest);r(d[0]).useEffect(()=>{const{onError:n,onLoaded:u,onTimeout:s,src:l,timeout:c}=t;return o.open('GET',l,!0),o.responseType='blob',o.onload=(t=>{200===o.status?u():n()}),null!=s&&(o.ontimeout=s),o.timeout=1e3*c,o.send(),()=>{o.abort()}},[t,o])};var o=o=>(t(o),null);e.default=o},9961566,[3]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={addFirstPhoto:"addFirstPhoto",addPhone:"addPhone",connectToFacebook:"connectToFacebook",editProfile:"editProfile",editProfilePhoto:"editProfilePhoto",importContacts:"importContacts"},o={bodyText:a(d[0]).FIRST_PHOTO_BODY,buttonText:a(d[0]).FIRST_PHOTO_CTA,headerText:a(d[0]).FIRST_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[0]).FIRST_PHOTO_BODY},O={bodyText:a(d[0]).PHONE_BODY,buttonText:a(d[0]).PHONE_CTA,headerText:a(d[0]).PHONE_HEADER,icon:r(d[1]).ICONS.CALL_OUTLINE_24_GREY9,iconAlt:a(d[0]).PHONE_BODY},_={bodyText:a(d[0]).FACEBOOK_BODY,buttonText:a(d[0]).FACEBOOK_CTA,headerText:a(d[0]).FACEBOOK_HEADER,icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:a(d[0]).FACEBOOK_BODY},T={bodyText:a(d[0]).EDIT_PROFILE_BODY,buttonText:a(d[0]).EDIT_PROFILE_CTA,headerText:a(d[0]).EDIT_PROFILE_HEADER,icon:r(d[1]).ICONS.USER_OUTLINE_24_GREY9,iconAlt:a(d[0]).EDIT_PROFILE_BODY},E={bodyText:a(d[0]).PROFILE_PHOTO_BODY,buttonText:a(d[0]).PROFILE_PHOTO_CTA,headerText:a(d[0]).PROFILE_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[0]).PROFILE_PHOTO_BODY},P={bodyText:a(d[0]).CONTACTS_BODY,buttonText:a(d[0]).CONTACTS_CTA,headerText:a(d[0]).CONTACTS_HEADER,icon:r(d[1]).ICONS.USERS_OUTLINE_24_GREY9,iconAlt:a(d[0]).CONTACTS_BODY},n={[t.addFirstPhoto]:o,[t.addPhone]:O,[t.connectToFacebook]:_,[t.editProfile]:T,[t.editProfilePhoto]:E,[t.importContacts]:P};e.KEYS=t,e.MODULES={emptyFeed:"emptyFeed",feed:"feed",profile:"profile"},e.KEY_UNIT_MAPPING=n},12910593,[10092626,9699357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const O=r(d[0])(2947),E=r(d[0])(2898),_=r(d[0])(3538),T=r(d[0])(86),C=r(d[0])(177),P=r(d[0])(1537),A=r(d[0])(3372),D=r(d[0])(1073),R=r(d[0])(152),H=r(d[0])(1335),I=r(d[0])(220),F=r(d[0])(275),L=r(d[0])(3232),B=r(d[0])(2990),N=r(d[0])(3131),S=r(d[0])(724),t=r(d[0])(1858),Y=r(d[0])(2259),M=r(d[0])(3306),c=r(d[0])(1551),n=r(d[0])(3277),o=r(d[0])(3244),s=r(d[0])(1153);e.GETTING_STARTED=O,e.FIRST_PHOTO_HEADER=E,e.FIRST_PHOTO_BODY=_,e.FIRST_PHOTO_CTA=T,e.FACEBOOK_BODY=C,e.FACEBOOK_COMPLETED=P,e.FACEBOOK_CTA=A,e.FACEBOOK_HEADER=D,e.CONTACTS_BODY=R,e.CONTACTS_CTA=H,e.CONTACTS_COMPLETED=I,e.CONTACTS_HEADER=F,e.PROFILE_PHOTO_BODY=L,e.PROFILE_PHOTO_CTA=B,e.PROFILE_PHOTO_HEADER=N,e.PHONE_BODY=S,e.PHONE_COMPLETED=t,e.PHONE_CTA=Y,e.PHONE_HEADER=M,e.EDIT_PROFILE_BODY=c,e.EDIT_PROFILE_COMPLETED=n,e.EDIT_PROFILE_CTA=o,e.EDIT_PROFILE_HEADER=s},10092626,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createAsyncComponent({resolve:()=>r(d[2])(d[1],"SuggestedUserFeedUnitContainer")}),s=r(d[0]).createAsyncComponent({resolve:()=>r(d[2])(d[3],"InFeedStoryTray")}),n=i(d[4])(()=>[]);var o=class extends a(d[7]).PureComponent{constructor(...o){super(...o),this.$VirtualFeed1=(({index:o,isVisible:l,visibleIndex:p})=>{const{analyticsContext:c,itemClassName:h,items:u,onPostImpression:I}=this.props,E=u.get(o);if(null==E)return i(d[5])(`no item at index=${o}, size=${u.size}`),null;switch(E.type){case r(d[6]).GRAPH_IMAGE:case r(d[6]).GRAPH_VIDEO:case r(d[6]).GRAPH_SIDECAR:return a(d[7]).createElement(i(d[8]),{analyticsContext:c,autoplay:r(d[9]).hasAutoplayEnabledOnFeed({silent:!0}),className:h,id:E.postId,isVisible:l,key:E.postId,onImpression:I,Options:n(),position:o,variant:r(d[10]).VARIANTS.feed,visiblePosition:p});case r(d[6]).GRAPH_SUGGESTED_USER_FEED_UNIT:return a(d[7]).createElement(t,{className:h,key:o,position:o,trackingToken:E.trackingInfo.token,type:E.trackingInfo.type,userIds:E.userIds,variant:this.props.variant});case r(d[6]).GRAPH_STORIES_IN_FEED_ITEM:return a(d[7]).createElement(s,{className:h,filteringTag:E.filteringTag,hideUnitIfSeen:E.hideUnitIfSeen,key:E.trackingToken||'feed_stories',reelIds:E.reelIds,title:E.title||r(d[11]).STORIES_TRAY_IN_FEED_UNIT_TITLE});default:return i(d[5])(`unexpected feed item type: ${E.type}`),null}})}render(){return a(d[7]).createElement(i(d[12]),{allowSampledScrollLogging:this.props.allowSampledScrollLogging,analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,prefetchNextPageThreshold:this.props.prefetchNextPageThreshold,renderFeedItem:this.$VirtualFeed1,visibleCount:this.props.visibleCount})}};e.default=o},13238294,[9961679,13107200,68,13172736,9961556,9961564,10092575,3,12255279,12189712,12976134,9961542,12255266]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const _=r(d[0])(1226),T=r(d[0])(2272),E=r(d[0])(2070),O=r(d[0])(1192),S=r(d[0])(1147),I=r(d[0])(3523),L=r(d[0])(353),N=r(d[0])(799),R=r(d[0])(814),n=r(d[0])(1611);e.YOUR_STORY_TEXT=_,e.STORIES_TEXT=T,e.WATCH_ALL_TEXT=E,e.TAP_TO_PLAY_TEXT=O,e.CLOSE_FRIENDS=S,e.CLOSE_FRIENDS_ONLY=I,e.CLOSE_FRIENDS_INFO_PHOTO=(_=>r(d[0])(1756,{'story owner username':_})),e.CLOSE_FRIENDS_INFO_VIDEO=(_=>r(d[0])(2694,{'story owner username':_})),e.STORIES_TRAY_IN_FEED_UNIT_TITLE=L,e.UNMUTE=N,e.MUTE=R,e.ALT_TEXT_CLOSE_ICON=n},9961542,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=()=>{r(d[0]).logIgLiteAction({event_name:'showUpdateIGLiteDialog'});const[t,l]=r(d[1]).useState(!0),{body:n,header:o,primaryButtonText:I}=r(d[2]).getIgLiteUpdateUpsellModalStrings(),c=a(d[1]).createElement(r(d[3]).Box,{alignItems:"center"},a(d[1]).createElement(r(d[3]).Icon,{alt:a(d[4]).DIRECT_NAME,icon:r(d[3]).ICONS.LITE_APP_ICON}));return a(d[1]).createElement(a(d[1]).Fragment,null,t&&a(d[1]).createElement(r(d[3]).Dialog,{body:n,media:c,onModalClose:()=>{l(!1),r(d[0]).logIgLiteAction({event_name:'updateIGLiteDialogClose'})},title:o},a(d[1]).createElement(r(d[3]).DialogItem,{color:"ig-primary-button",onClick:()=>{r(d[5]).openExternalURL(i(d[6])('update_upsell','installLink',r(d[7]).appPlatformTypes.ANDROID,'InstagramLite')),r(d[0]).logIgLiteAction({event_name:'updateIGLiteDialogClick'}),l(!1)}},I),a(d[1]).createElement(r(d[3]).DialogItem,{onClick:()=>{l(!1),r(d[0]).logIgLiteAction({event_name:'updateIGLiteDialogDismiss'}),r(d[8]).getUserPreferences().setItem('showIgLiteUpdateAppDialog',!1)}},a(d[4]).DIRECT_IGLITE_UPSELL_NOT_NOW)))};e.default=t},13238296,[9961557,3,13238310,9699357,9961615,9961612,10420226,9961592,10092627]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(1264),E=r(d[0])(2355),_=r(d[0])(3e3),I=r(d[0])(2764);e.IGLITE_GENERIC_UPSELL_HEADER=t,e.IGLITE_GENERIC_UPDATE_CTA_TEXT=E,e.DIRECT_OUTDATED_IGLITE_UPSELL_BODY=_,e.IGLITE_GENERIC_UPSELL_BODY=I,e.getIgLiteUpdateUpsellModalStrings=(()=>({body:I,header:t,primaryButtonText:E})),e.getDirectIgLiteModalStrings=(()=>({body:_,header:t,primaryButtonText:E}))},13238310,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);let t=!1;const s=5,n=3;var o=r(d[9]).connect(function(t){return{targetUserActionTriggered:t.rating.targetUserActionTriggered}},null)(class extends a(d[5]).PureComponent{constructor(t){super(t),this.$RatingModal1=(()=>{this.setState({isDismissed:!0})}),this.$RatingModal2=(()=>{'rating'===this.state.screen&&r(d[2]).logIgLiteAction({event_name:'ratingModalDismissed'}),r(d[3]).setDismissEntry(r(d[3]).IG_LITE_RATING_NOT_NOW_TYPE),this.$RatingModal1()}),this.$RatingModal3=(t=>{this.setState({rating:t}),r(d[2]).logIgLiteAction({event_name:`Rating: ${t}`}),t>n?(r(d[3]).setDismissEntry(r(d[3]).IG_LITE_RATING_TYPE),r(d[4]).openURL('https://play.google.com/store/apps/details?id=com.instagram.lite'),this.$RatingModal1()):(this.setState({isLoading:!0}),setTimeout(()=>{this.setState({screen:'confirming',isLoading:!1})},800))}),this.$RatingModal4=(()=>{const t=[];for(let n=0;n<s;n++){const s=n+1,o=()=>this.$RatingModal3(s);t.push(a(d[5]).createElement("div",{className:"xN1v2",key:n,onClick:o,onKeyPress:o,role:"button",tabIndex:"0"},a(d[5]).createElement("span",{alt:"star",className:"coreSpriteStar"})))}return t}),this.$RatingModal5=(()=>'rating'===this.state.screen?a(d[5]).createElement(r(d[6]).DialogSection,null,a(d[5]).createElement("div",{className:`uL4Ve ${this.state.isLoading?"XneT3":""}`},this.$RatingModal4(),this.state.isLoading&&a(d[5]).createElement(r(d[6]).Spinner,{position:"absolute",size:"medium"}))):null),this.state={showModal:!0,isDismissed:!1,isLoading:!1,screen:'rating',rating:0}}static getDerivedStateFromProps(t,s){const n=r(d[3]).isDismissed(r(d[3]).IG_LITE_RATING_TYPE)||r(d[3]).isDismissed(r(d[3]).IG_LITE_RATING_NOT_NOW_TYPE);return{showModal:null!==t.targetUserActionTriggered&&!s.isDismissed&&!n}}componentDidUpdate(s,n){n.showModal!==this.state.showModal&&this.state.showModal&&!t&&(r(d[2]).logIgLiteAction({event_name:'ratingModalShown',containermodule:this.props.targetUserActionTriggered,source:this.props.targetUserActionTriggered}),t=!0)}render(){return this.state.showModal?a(d[5]).createElement(r(d[6]).Dialog,{body:'rating'===this.state.screen?a(d[7]).RATING_MODAL_RATING_PARAGRAPH:a(d[7]).RATING_MODAL_CONFIRMATION_PARAGRAPH,title:'rating'===this.state.screen&&a(d[7]).RATING_MODAL_TITLE},this.$RatingModal5(),a(d[5]).createElement(r(d[6]).DialogItem,{color:"ig-secondary-button",onClick:this.$RatingModal2},'rating'===this.state.screen?a(d[7]).RATING_MODAL_NOT_NOW_ACTION:r(d[8]).CLOSE_TEXT)):null}});e.default=o},13238297,[9699330,13238311,9961557,13238312,9961612,3,9699357,13238313,9699348,5]);
__d(function() {},13238311,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const A=r(d[0])(1872),_=r(d[0])(2654),N=r(d[0])(1300),O=r(d[0])(2257);e.RATING_MODAL_TITLE=A,e.RATING_MODAL_RATING_PARAGRAPH=_,e.RATING_MODAL_CONFIRMATION_PARAGRAPH=N,e.RATING_MODAL_NOT_NOW_ACTION=O},13238313,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){const{edgeVapidPush:t,notifications:o,serviceWorker:n}=r(d[0]).getSupportedFeatures();return!r(d[1]).isIgLite()&&!r(d[1]).isWindowsPWA()&&(!t||r(d[0]).hasVapid())&&r(d[2]).canUseDOM&&o&&n&&window.Notification&&window.Notification.permission===r(d[3]).NOTIFICATION_PERMISSION.default&&!r(d[4]).isDismissed(r(d[4]).NOTIFICIATIONS_TYPE)&&!s()}function s(){return r(d[4]).isSessionDismissedHelper(r(d[4]).NOTIFICIATIONS_SESSIONS_TYPE)}Object.defineProperty(e,'__esModule',{value:!0});var o=class extends a(d[6]).PureComponent{constructor(...s){super(...s),this.state={showModal:!1},this.$NotificationsScreen1=(()=>{t()&&setTimeout(()=>{this.setState({showModal:!0},()=>{r(d[5]).logAction_DEPRECATED('notificationsNuxShown')})},0)}),this.$NotificationsScreen2=(()=>{this.setState({showModal:!1})}),this.onAction=(t=>{r(d[0]).initalizePush('upsell'),this.$NotificationsScreen2()}),this.onClose=(t=>{this.$NotificationsScreen2(),r(d[5]).logAction_DEPRECATED('notificationsNuxDismissed'),r(d[4]).setDismissSessionEntryHelper(r(d[4]).NOTIFICIATIONS_SESSIONS_TYPE)})}componentDidMount(){this.$NotificationsScreen1()}render(){return this.state.showModal?a(d[6]).createElement(i(d[7]),{onAction:this.onAction,onClose:this.onClose}):null}};e.default=o,e.showNotificationsPrompt=t},13238298,[13238314,9699340,9502830,13238315,13238312,9699368,3,13238316]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});var n=class extends a(d[0]).PureComponent{render(){const n=a(d[0]).createElement(r(d[1]).DialogCircleMedia,{icon:t});return a(d[0]).createElement(r(d[1]).Dialog,{body:a(d[2]).NOTIFICATIONS_MODAL_PARAGRAPH,media:n,title:a(d[2]).NOTIFICATIONS_MODAL_TITLE},a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},a(d[2]).NOTIFICATIONS_MODAL_ACTION),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:this.props.onClose},a(d[2]).NOTIFICATIONS_MODAL_SECONDARY_ACTION))}};e.default=n},13238316,[3,9699357,13238317]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const O=r(d[0])(1012),I=r(d[0])(1304),A=r(d[0])(2555),_=r(d[0])(3170);e.NOTIFICATIONS_MODAL_PARAGRAPH=O,e.NOTIFICATIONS_MODAL_TITLE=I,e.NOTIFICATIONS_MODAL_ACTION=A,e.NOTIFICATIONS_MODAL_SECONDARY_ACTION=_},13238317,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createElement("img",{alt:"",height:"76px",src:"/static/images/ico/xxhdpi_launcher.png/99cf3909d459.png",width:"76px"});class o extends a(d[0]).PureComponent{render(){const o=a(d[0]).createElement(r(d[1]).DialogCircleMedia,{icon:t});return a(d[0]).createElement(r(d[1]).Dialog,{body:a(d[2]).A2HS_MODAL_PARAGRAPH,media:o,title:a(d[2]).A2HS_MODAL_TITLE},a(d[0]).createElement(r(d[1]).DialogItem,{color:"ig-primary-button",onClick:this.props.onAction},a(d[2]).A2HS_MODAL_ACTION_TITLE),a(d[0]).createElement(r(d[1]).DialogItem,{onClick:this.props.onClose},r(d[3]).CANCEL_TEXT))}}e.default=(()=>a(d[0]).createElement(i(d[4]),{addToHomeScreenUI:o})),e.AddToHomeScreenModal=o},10092569,[3,9699357,10092648,9699348,10092649]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const _=r(d[0])(2029),A=r(d[0])(394),t=r(d[0])(633);e.A2HS_MODAL_PARAGRAPH=_,e.A2HS_MODAL_TITLE=A,e.A2HS_MODAL_ACTION_TITLE=t},10092648,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);class t extends a(d[1]).PureComponent{constructor(...t){super(...t),this.$UploadProgressBar1=(()=>a(d[1]).createElement(r(d[2]).Box,{alignItems:"center",direction:"row",flex:"grow",paddingX:2},a(d[1]).createElement("div",{className:"AbEQm"},a(d[1]).createElement("div",{className:"Taqwd",style:{width:`${this.props.progress}%`}})),a(d[1]).createElement(r(d[2]).Box,{marginStart:2,width:36},a(d[1]).createElement("div",{className:"kuHp8"},`${this.props.progress}%`)))),this.$UploadProgressBar2=(()=>{const{actionNode:t,text:s}=this.props;return a(d[1]).createElement("div",{className:"o5gub"},a(d[1]).createElement(r(d[2]).Box,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"between"},a(d[1]).createElement(r(d[2]).Text.BodyEmphasized,{display:"inline"},s),null!==t&&a(d[1]).createElement(r(d[2]).Box,{marginStart:1},t)))})}render(){const{thumbnailURL:t,status:s}=this.props;return a(d[1]).createElement("div",{className:"TExId"},t&&a(d[1]).createElement(r(d[2]).Box,{marginEnd:2},a(d[1]).createElement(i(d[3]),{src:t,isVideo:!0,isSquare:!0})),'uploading'===s?this.$UploadProgressBar1():this.$UploadProgressBar2())}}var s=r(d[4]).connect(function(t){return{actionNode:t.uploadProgress.actionNode,progress:t.uploadProgress.progress,text:t.uploadProgress.text,status:t.uploadProgress.status,thumbnailURL:t.uploadProgress.thumbnailURL}})(t);e.default=s,e.UploadProgressBar=t},13238301,[13238318,3,9699357,12124174,5]);
__d(function() {},13238318,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=({src:t,isVideo:c=!1,isSquare:l=!1})=>a(d[1]).createElement("div",{className:`g5kp1 ${l?"_JTHj":""}`},a(d[1]).createElement("img",{className:"FuaTR",src:t,alt:r(d[2])(772)}),c&&a(d[1]).createElement("div",{className:"cRc_w"},a(d[1]).createElement(i(d[3]),null)));e.default=t},12124174,[12124179,3,9699332,12124180]);
__d(function() {},12124179,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t){const s=r(d[0]).useSelector(t=>r(d[1]).getSeenCountInStoryTray(t)),o=r(d[0]).useDispatch(),n=r(d[0]).useSelector(t=>({broadcasts:r(d[2]).getBroadcastStoryTrayItems(t),dataFetchStatus:t.feed.extrasDataFetchStatus,feedFilter:r(d[3]).getFeedFilter(t),hasOwnReel:r(d[1]).userHasReel(t,i(d[4])(t.users.viewerId)),hasSeenZeroNUX:!!t.zero.nuxPreference.story,isFullySeen:s=>{if(null!=s){const o=r(d[1]).getFirstUnseenReelItemIndex(t,s);return null!=o&&o<0}return!1},loadingId:t.stories.trayLoadingId,newReelCount:t.stories.feedTray&&t.stories.feedTray.count()-i(d[4])(s),reels:r(d[1]).getFeedStoryTrayWithoutOwn(t),seenReelCount:s,storyPrefetchFinished:t.feed.storyPrefetchComplete,traySession:t.stories.traySession,viewerId:t.users.viewerId,viewportWidth:t.displayProperties.viewportWidth}),r(d[0]).shallowEqual);return a(d[8]).createElement(i(d[9]),i(d[10])({},t,n,{onLoadReel:(t,s,n)=>{o(r(d[5]).openReelsMedia(t,'reel_feed_timeline',s,n))},onStoryItemScrollEnter:(t,s)=>{o(r(d[5]).loadReelsMediaForTray(s,t,{batchSize:15,fetchDistance:5}))},onUpdateZeroNUXPreference:()=>{o(r(d[6]).updateZeroNUXPreference(r(d[7]).ZeroNUXMedia.story))}}))}},13238302,[5,9961479,13041670,10092559,9699335,9961477,13172740,9961519,3,13238319,9895972]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=4,s=5,o=80,n=80,l=10,h=500,y=4,p=10;var c=i(d[24])('StoryTray',i(d[25])(class extends a(d[11]).PureComponent{constructor(...t){super(...t),this.state={isZeroBannerEligible:r(d[1]).isZeroRatingSlimEligible(),leftVisibleItem:-1,rightVisibleItem:-1},this.didLogComponentLoad=!1,this.didLogStoryTrayLoad=!1,this.$StoryTray2=(()=>{const{dataFetchStatus:t}=this.props,s=t!==r(d[2]).EXTRAS_DATA_FETCH_STATUS.loaded;this.didLogComponentLoad||s?!this.didLogStoryTrayLoad&&s&&(r(d[3]).StoryTrayLoadPerformanceLogger.onStoryTrayLoadSuccess(),this.didLogStoryTrayLoad=!0):(r(d[3]).StoryTrayLoadPerformanceLogger.onTrayComponentLoad({hasCaching:r(d[4]).hasStoriesCaching()}),this.didLogComponentLoad=!0)}),this.$StoryTray3=((t,s)=>{this.props.onLoadReel(i(d[5])(this.props.reels),t,s)}),this.$StoryTray4=((t,s)=>{const o=this.props.reels?this.props.reels.get(s-1):null;i(d[6]).log(()=>({a_pk:Number(t),is_new_reel:this.props.isFullySeen(null===o||void 0===o?void 0:o.id)?0:1,has_my_reel:i(d[5])(this.props.hasOwnReel)?1:0,new_reel_count:i(d[5])(this.props.newReelCount),pigeon_reserved_keyword_module:'reel_feed_timeline',reel_type:r(d[7]).getTypeForLogging(null===o||void 0===o?void 0:o.type),tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)}));const n={containermodule:'reel_feed_timeline',event_name:'reel_tray_impression',has_my_reel:i(d[5])(this.props.hasOwnReel),ig_userid:this.props.viewerId,media_author:t,new_reel_count:i(d[5])(this.props.newReelCount),source_of_action:'reel_feed_timeline',tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)};!0===(null===o||void 0===o?void 0:o.isCloseFriends)&&(n.action='close_friends_story_ring_impression'),r(d[7]).logStoriesEvent(n)}),this.$StoryTray5=((t,s)=>{i(d[6]).log(()=>({a_pk:Number(t.broadcast_owner),is_new_reel:0,has_my_reel:i(d[5])(this.props.hasOwnReel)?1:0,new_reel_count:i(d[5])(this.props.newReelCount),pigeon_reserved_keyword_module:'reel_feed_timeline',reel_type:r(d[8]).getReelTypeForLogging(t),tray_position:s,tray_session_id:this.props.traySession,viewed_reel_count:i(d[5])(this.props.seenReelCount)}))}),this.$StoryTray6=(()=>{const t=this.props.broadcasts.size;return 0!==t&&r(d[9]).isDesktop()&&r(d[10]).hasLiveInStories()?t:0}),this.$StoryTray7=(()=>0!==this.props.broadcasts.size&&r(d[9]).isDesktop()&&r(d[10]).hasLiveInStories()?this.props.broadcasts.sort((t,s)=>((null===t||void 0===t?void 0:t.ranked_position)||0)-((null===s||void 0===s?void 0:s.ranked_position)||0)).toList():null),this.$StoryTray8=(({index:t,isVisible:s})=>{const n=this.$StoryTray7(),l=this.$StoryTray6(),h=this.$StoryTray9()?1:0,y={isVisible:s,isZeroBannerEligible:this.state.isZeroBannerEligible,onClick:this.$StoryTray3,onScrollEnter:this.$StoryTray4,trayPosition:t,onUpdateZeroNUXPreference:this.props.onUpdateZeroNUXPreference,hasSeenZeroNUX:this.props.hasSeenZeroNUX};let p,c;if(t<h)p=a(d[11]).createElement(i(d[12]),i(d[13])({hasOwnReel:this.props.hasOwnReel,viewerId:this.props.viewerId},y));else if(t<l+h&&null!=n){const o=t-h,l=n.get(o);p=null!=l&&a(d[11]).createElement(i(d[14]),{broadcast:l,isVisible:s,onScrollEnter:this.$StoryTray5,trayPosition:t})}else{const s=t-l-h,o=i(d[5])(this.props.reels);c=i(d[5])(o.get(s)),p=a(d[11]).createElement(i(d[15]),i(d[13])({reel:c},y))}return a(d[11]).createElement("div",{className:"Fd_fQ",key:c?c.id:t,style:r(d[9]).isDesktop()&&!0===i(d[16])._("80","3")||!r(d[4]).hasStoriesCaching()?void 0:{transform:`translateX(${t*o}px)`}},p)}),this.$StoryTray9=(()=>{if(r(d[9]).isMobile())return!0;const t=r(d[9]).isDesktop()&&!0===i(d[16])._("80","3");return!(!0===this.props.hideOwnStory&&t||!this.props.hasOwnReel)}),this.$StoryTray10=(()=>{const{reels:t}=this.props,s=this.$StoryTray9()?1:0,o=this.$StoryTray6();return(null!=t?t.count():0)+s+o}),this.$StoryTray11=(()=>this.props.dataFetchStatus===r(d[2]).EXTRAS_DATA_FETCH_STATUS.loading),this.$StoryTray12=(()=>{const{reels:t,seenReelCount:s}=this.props;return t&&-1!==s&&t.count()-s>0}),this.$StoryTray13=(t=>{const{leftPct:s,rightPct:o}=t,{leftVisibleItem:n,rightVisibleItem:l}=this.state,h=Math.floor(s),y=Math.ceil(o);n===h&&l===y||this.setState({leftVisibleItem:h,rightVisibleItem:y})}),this.$StoryTray14=((t,s)=>{const o=this.$StoryTray10();return Array.from(Array(o),(o,n)=>this.$StoryTray8({index:n,isVisible:n>=t&&n<=s}))})}componentDidMount(){this.$StoryTray1(),this.$StoryTray2()}componentDidUpdate(){this.$StoryTray1(),this.$StoryTray2()}$StoryTray1(){null!=this.props.reels&&this.props.onDisplayDone()}render(){const{feedFilter:c,reels:_,viewportWidth:S}=this.props,{leftVisibleItem:u,rightVisibleItem:T}=this.state,$=this.$StoryTray11(),v=this.$StoryTray10(),f=this.$StoryTray12(),b=Math.max(l,Math.ceil(S/o)),E=r(d[9]).isDesktop()&&!0===i(d[16])._("80","3")?a(d[11]).createElement(i(d[17]),{animationDuration:h,autoScrollOnFocus:!1,disableScrollSnap:!0,enableMouseSwipe:!0===i(d[16])._("80","4"),gutterWidth:p,itemWidth:n,onVisibilityChange:this.$StoryTray13,overscan:s,pagerVariant:"stories",pageSize:y},this.$StoryTray14(u,T)):a(d[11]).createElement(i(d[18]),{className:`qf6s4 ${r(d[4]).hasStoriesCaching()?"lGuO0":""}`,containerSize:"auto",direction:"horizontal",estimatedItemSize:o,initialRenderCount:b,itemCount:v,overscanCount:t,renderer:this.$StoryTray8}),L=a(d[11]).createElement("div",{className:`ku8Bn ${null==_?"p2GVa":""}`},E);return a(d[11]).createElement(a(d[11]).Fragment,null,a(d[11]).createElement(i(d[19]),null,$&&a(d[11]).createElement("div",{className:`u6s6p ${$?"":"UZmR1"}`},$&&a(d[11]).createElement(r(d[20]).Box,{alignItems:"center",direction:"row",justifyContent:"center"},a(d[11]).createElement(r(d[20]).Spinner,null))),null==_?a(d[11]).createElement(i(d[21]),null):L),r(d[9]).isMobile()&&!0===f&&a(d[11]).createElement("div",{className:"RN9GI"},a(d[11]).createElement(i(d[22]),{anchor:a(d[23]).QP_TOOLTIP_ANCHORS.story_tray_item,filter:c,slot:a(d[23]).SLOTS.feed,trigger:a(d[23]).TRIGGERS.instagram_feed_tool_tip})))}}));e.default=c,e.MOBILE_TRAY_COL_WIDTH=o},13238319,[13238320,9961519,13238273,9961486,12189712,9699335,13041674,9961487,13041675,9699340,13041673,3,13238321,9895972,13238322,13238323,9699363,13172739,9961657,13238324,9699357,13238325,13238326,10092551,10092615,9961531]);
__d(function() {},13238320,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const o={pigeon:!1,falco:!0};e.default=class{static log(t){i(d[0])._("26")&&r(d[1]).FalcoLogger.log('reel_tray_impression',t(),{},o)}}},13041674,[9699365,9568267]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=r(d[19]).connect(function(t,n){const l=r(d[15]).getUserById(t,n.viewerId);return{isAppUpsellLoggedInSheetOpen:t.upsell.isAppUpsellLoggedInSheetOpen,profilePictureUrl:l.profilePictureUrl,reel:r(d[16]).getReel(t,n.viewerId)}},function(t){return{openAppUpsellLoggedInSheet(n){r(d[1]).isIgLite()||t(r(d[17]).openAppUpsellLoggedInSheet(n))},onOpenReel(n,l,o){t(r(d[18]).openReel(n,l,o))}}})(class extends a(d[7]).Component{constructor(...t){super(...t),this.$OwnStoryTrayItem1=(()=>{r(d[1]).isMobile()&&(r(d[2]).isDismissed(r(d[2]).USE_THE_APP_LI_SHEET)||!0!==i(d[3])._("72","2",{silent:!0})?i(d[5])(this.$OwnStoryTrayItem2).handleStoryCreationClick():this.props.openAppUpsellLoggedInSheet(i(d[4]).StoryCreationPage))}),this.$OwnStoryTrayItem3=((t,n)=>{this.props.onOpenReel(t,n,'reel_feed_timeline')})}render(){const{hasOwnReel:t,profilePictureUrl:n,...l}=this.props;if(!0===t){const{isAppUpsellLoggedInSheetOpen:t,onOpenReel:n,openAppUpsellLoggedInSheet:o,reel:s,viewerId:p,...c}=l;return null!=s||i(d[6])(0),a(d[7]).createElement(i(d[8]),i(d[9])({},c,{onClick:this.$OwnStoryTrayItem3,reel:s}))}return a(d[7]).createElement("button",{className:"JdY43",onClick:this.$OwnStoryTrayItem1},a(d[7]).createElement(i(d[10]),{className:"ctM9u",isLink:!1,profilePictureUrl:n,size:56}),this.props.isAppUpsellLoggedInSheetOpen&&!0===i(d[3])._("72","2",{silent:!0})?a(d[7]).createElement(i(d[11]),{pageID:i(d[4]).StoryCreationPage}):i(d[3])._l("72"),a(d[7]).createElement("div",{className:"XdXBI"},r(d[8]).YOUR_STORY_TEXT),a(d[7]).createElement("div",{className:"TiuNS"},a(d[7]).createElement(i(d[12]),{alt:r(d[13])(2e3),color:"ig-primary-button",size:16})),a(d[7]).createElement(i(d[14]),{entryPoint:"your_story_placeholder",ref:t=>this.$OwnStoryTrayItem2=t}))}});e.default=t},13238321,[13238327,9699340,13238312,9699363,9699346,9699335,9502828,3,13238323,9895972,9699338,13238328,13238329,9699332,13238283,9699376,9961479,13238330,9961477,5]);
__d(function() {},13238327,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});let t=0;const s=r(d[0])(1226);var o=r(d[9]).connect(function(t,s){const o=r(d[7]).getUserById(t,i(d[2])(s.reel.userId));return{isMuted:s.reel.muted,isSeen:r(d[8]).isReelSeen(s.reel),isViewer:t.users.viewerId===s.reel.id,profilePictureUrl:i(d[2])(o.profilePictureUrl),username:i(d[2])(o.username)}})(class extends a(d[3]).PureComponent{constructor(...s){super(...s),this.state={isZeroNuxOpen:!1},this.$StoryTrayItem1=i(d[1])(s=>`StoryTrayItem_${t++}`),this.$StoryTrayItem3=(()=>{!0===this.props.isZeroBannerEligible?this.showZeroNuxOrPlay():this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))}),this.$StoryTrayItem2=(()=>{this.props.onScrollEnter(i(d[2])(this.props.reel.userId),this.props.trayPosition)}),this.$StoryTrayItem4=(t=>{t&&t.stopPropagation(),this.setState({isZeroNuxOpen:!1})}),this.$StoryTrayItem5=(t=>{t.stopPropagation();const{onUpdateZeroNUXPreference:s}=this.props;s&&s(),this.setState({isZeroNuxOpen:!1}),this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))}),this.showZeroNuxOrPlay=(()=>{!0!==this.props.hasSeenZeroNUX?this.setState({isZeroNuxOpen:!0}):this.props.onClick(this.props.reel.id,this.$StoryTrayItem1(this.props.reel.id))})}componentDidMount(){this.props.isVisible&&this.$StoryTrayItem2()}componentDidUpdate(t){!t.isVisible&&this.props.isVisible&&this.$StoryTrayItem2()}render(){const{isMuted:t,isSeen:o,isViewer:p,profilePictureUrl:n,username:l}=this.props,h=p?s:l;let u=null;return!0===this.props.isZeroBannerEligible&&this.state.isZeroNuxOpen&&(u=a(d[3]).createElement(i(d[4]),{mediaKeyword:r(d[5]).ZeroNUXMedia.story,onAction:this.$StoryTrayItem5,onClose:this.$StoryTrayItem4,profilePictureUrl:n})),a(d[3]).createElement(i(d[6]),{clickTargetElementId:this.$StoryTrayItem1(this.props.reel.id),isMuted:t||!1,isSeen:o,label:h,nux:u,onClick:this.$StoryTrayItem3,profilePictureUrl:n,username:this.props.username})}});e.default=o,e.YOUR_STORY_TEXT=s},13238323,[9699332,13041684,9699335,3,13172742,9961519,13238331,9699376,9961479,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);const n=66,t=!1,c=64,s=r(d[2])(340),l=r(d[2])(529);e.default=function(u){const{profilePictureUrl:o}=u;r(d[3]).useEffect(()=>{r(d[4]).logZeroEvent({event_name:'nux_impression'})},[]);const f={nuxTitle:l,nuxAction:s,nuxIcon:a(d[3]).createElement("div",{className:"TFHq6"},a(d[3]).createElement(i(d[5]),{className:"_0zJgH",seen:t,size:c}),null!=o&&''!==o&&a(d[3]).createElement(i(d[6]),{isLink:!1,profilePictureUrl:o,size:n})),nuxIcon2:a(d[3]).createElement("div",{className:"coreSpriteSpinstaNux"})};return a(d[3]).createElement(i(d[7]),i(d[8])({nuxContent:f},u))}},13172742,[9699330,13172743,9699332,3,9699368,13172744,9699338,13172745,9895972]);
__d(function() {},13172743,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t='logged_in_sheet';var o=o=>{function n(o){o.preventDefault(),r(d[1]).logAction_DEPRECATED('appSheetClick',{platform:r(d[2]).getAppPlatform(),source:_,type:t}),r(d[10]).flushLogsAndOpenInApp(s,E,l,null,'logged_in_app_sheet')}const{pageID:_}=o;a(d[0]).useEffect(()=>{r(d[1]).logAction_DEPRECATED('appSheetImpression',{platform:r(d[2]).getAppPlatform(),source:_,type:t})},[_]);const{android:s,ios:E,originalPath:l}=r(d[3]).useSelector(t=>r(d[4]).getDeepLink(t)),p=r(d[3]).useDispatch(),[c,T]=a(d[0]).useState(r(d[5]).isDismissed(r(d[5]).USE_THE_APP_LI_SHEET)),{DirectInboxPage:I,StoryCreationPage:u}=i(d[6]),{body:A,title:P}=(function(){switch(o.pageID){case I:return{title:a(d[7]).APP_HIGH_INTENTION_DIRECT_TITLE,body:a(d[7]).APP_HIGH_INTENTION_DIRECT_BODY};case u:return{title:a(d[7]).APP_HIGH_INTENTION_STORIES_CREATE_TITLE,body:a(d[7]).APP_HIGH_INTENTION_STORIES_CREATE_BODY};default:return i(d[8])("We shouldn't be getting to this case since the control won't show an app upsell"),{title:a(d[7]).GUIDE_HEADER_TEXT_DEFAULT,body:a(d[7]).GUIDE_BODY_TEXT_DEFAULT}}})();return(function(){const t=!0===i(d[11])._("72","1")||!0===i(d[11])._("72","2");return r(d[12]).isUserLoggedIn()&&r(d[13]).isMobile()&&!c&&t})()&&a(d[0]).createElement(i(d[14]),{appIcon:a(d[0]).createElement(r(d[15]).IconButton,{alt:a(d[7]).GO_TO_THE_APP,icon:r(d[15]).ICONS.APP_ICON_36,onClick:n}),body:A,onCallToActionClick:n,onClose:function(o){r(d[1]).logAction_DEPRECATED('appSheetDismiss',{platform:r(d[2]).getAppPlatform(),source:_,type:t}),T(!0),p(r(d[9]).closeAppUpsellLoggedInSheet()),r(d[5]).setDismissEntry(r(d[5]).USE_THE_APP_LI_SHEET)},title:P})};e.default=o},13238328,[3,9699368,9699344,5,9699367,13238312,9699346,9699364,9961564,13238330,9699370,9699363,9961554,9699340,13238332,9699357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=a(d[0]).memo(function(t){return a(d[0]).createElement(i(d[1]),i(d[2])({},t,{viewBox:"0 0 48 48"}),a(d[0]).createElement("path",{d:"M24 0C10.8 0 0 10.7 0 24s10.7 24 24 24 24-10.7 24-24S37.3 0 24 0zm12.3 25.5H25.5v10.7c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V25.5H11.8c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5h10.7V11.7c0-.8.7-1.5 1.5-1.5s1.5.7 1.5 1.5v10.7h10.7c.8 0 1.5.7 1.5 1.5s-.6 1.6-1.4 1.6z"}))});e.default=t},13238329,[3,9961677,9895972]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=!1;e.default=function({broadcast:n,isVisible:o,onScrollEnter:s,trayPosition:l}){const{cobroadcasters:c,muted:u}=n,f=r(d[0]).useDispatch(),_=r(d[1]).useCallback(()=>{f(r(d[2]).openLivePlayerFromStoryTray(n,'live_feed_timeline',l))},[n,f,l]),E=r(d[0]).useSelector(t=>r(d[3]).getDisplayedBroadcasters(t,n.id)),{primary:p}=E;r(d[1]).useEffect(()=>{o&&s(n,l)},[n,o,s,l]);const y=c.length>0?a(d[1]).createElement(r(d[4]).Box,{direction:"row"},a(d[1]).createElement(r(d[4]).Box,{marginEnd:1,maxWidth:44},a(d[1]).createElement(r(d[4]).Text,{display:"truncated",size:"footnote",zeroMargin:!0},p.username)),a(d[1]).createElement(r(d[4]).Text,{size:"footnote",zeroMargin:!0},r(d[5]).liveBroadcasters(c.length))):p.username;return a(d[1]).createElement(i(d[6]),{isLive:!0,isMuted:u,isSeen:t,label:y,onClick:_,profilePictureUrl:p.profile_pic_url,username:p.username})},e.LIVE_STORY_AVATAR_SIZE=56},13238322,[5,3,13041679,13041670,9699357,13041680,13238331]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return t.displayProperties.viewportWidth>=i(d[1])['feed-with-padding-threshold-min'].value}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function(n){const l=r(d[2]).useSelector(t),s=r(d[3]).isDesktop()&&!0===i(d[4])._("80","3");return a(d[5]).createElement("div",{className:`zGtbP ${l?"IPQK5":""} ${s?"VideM":""}`},a(d[5]).createElement(a(d[5]).Suspense,{fallback:a(d[5]).createElement(i(d[6]),null)},n.children))}},13238324,[13238333,9764866,5,9699340,9699363,3,13238325]);
__d(function() {},13238333,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function(){const t=window.innerWidth,n=Math.ceil(t/r(d[1]).MOBILE_TRAY_COL_WIDTH);return a(d[2]).createElement("div",{className:"CfWOi"},i(d[3])(n,t=>a(d[2]).createElement("div",{key:t,className:"vyqnV"},a(d[2]).createElement(i(d[4]),null))))}},13238325,[13238334,13238319,3,10158242,13238335]);
__d(function() {},13238334,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=56;var n=function(){return a(d[1]).createElement(i(d[2]),{className:"y0gra",size:t})};e.default=n},13238335,[13238336,3,13041686]);
__d(function() {},13238336,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=function({className:t,hideAvatarBorder:s,size:n}){return a(d[1]).createElement("div",{className:i(d[2])("hHOPZ",t)},a(d[1]).createElement(i(d[3]),{className:"_4CvhT",isLoading:!1,seen:!0,showRing:!1,size:n}),a(d[1]).createElement("div",{className:`_7JZQt ${s?"":"LO-7C"}`,style:{height:n,width:n}}))};e.default=t},13041686,[13238337,3,9699353,13172744]);
__d(function() {},13238337,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({children:t,resource:s}){return a(d[4]).createElement(i(d[5]),{intrinsicDimensions:s.intrinsicDimensions},({className:s})=>a(d[4]).createElement("div",{className:s},t))}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const s='storyMedia',o=t=>(t,s)=>{if(r(d[1]).isReelItemExpired(i(d[2])(t.expiringAt),s))return null;return Boolean(null!=t.src&&null!=t.dimensions)&&!1===t.isVideo&&t.displayResources?{type:r(d[3]).PREFETCHED_IMAGE,id:t.id,src:i(d[2])(t.src),srcSet:i(d[2])(t.displayResources),intrinsicDimensions:i(d[2])(t.dimensions)}:null};var n=r(d[10]).connect(function(t,s){const o=r(d[1]).getPrefetchablePostIds(t,s.prefetchContext),n={items:[],prefetchCount:0};for(const s of o){const o=t.posts.byId.get(s,null);null!=o&&n.items.push({id:o.id,isVideo:o.isVideo}),n.prefetchCount++}return{postIds:o,prefetchLogExtras:n}},function(t,s){return{onLoadComplete(){'feed'===s.prefetchContext&&t({type:r(d[9]).FEED_PAGE_STORY_PREFETCH_COMPLETE})}}})(i(d[11])(class extends a(d[4]).Component{componentDidMount(){const t={...this.props.prefetchLogExtras,dataSaver:this.props.isDataSaverMode,preload:this.props.preload};r(d[6]).logIgLiteAction({event_name:'storiesPrefetchAttempt',extras:t}),this.props.preload!==r(d[7]).PRELOAD_AUTO&&this.props.onLoadComplete()}render(){return this.props.preload===r(d[7]).PRELOAD_AUTO&&a(d[4]).createElement("div",{className:"vgS-T"},a(d[4]).createElement(i(d[8]),{getResourceFromPost:o(this.props.prefetchContext),layoutWrapper:t,onLoadComplete:this.props.onLoadComplete,postIds:this.props.postIds.toArray(),viewKey:s}))}}));e.default=n},9961527,[9961643,9961479,9699335,9961567,3,9961540,9961557,9961644,9961645,9961646,5,9961531]);
__d(function() {},9961643,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);const t=1.3,s=1;class o extends a(d[3]).Component{constructor(...o){super(...o),this.state={height:0,width:0},this.$StoryMediaLayout2=((o,n)=>{const{intrinsicDimensions:h}=this.props,c=this.$StoryMediaLayout1()?s:t;let l=o,u=n;const y=l/u,p=h.width/h.height;y/p>c||p/y>c?y>p?l=u*p:u=l/p:y>p?u=l/p:l=u*p,this.setState({height:u,width:l}),this.context.updateStoriesContext({mediaDimensions:{width:l,height:u}})})}$StoryMediaLayout1(){const{isTallDevice:t}=this.props;return t&&(r(d[1]).isMobile()||r(d[1]).isIgLite())}render(){const{children:t}=this.props;'function'==typeof t||i(d[2])(0);const{width:s,height:o}=this.state;let n=null;if(0!==s&&0!==o){const h={className:"y-yJ5",layoutWidth:s,layoutHeight:o};n=a(d[3]).createElement("div",{className:"qbCDp",style:{width:s,height:o}},t(h))}return a(d[3]).createElement(i(d[4]),{className:"JkC_e",onResize:this.$StoryMediaLayout2},n)}}o.contextType=i(d[5]);var n=r(d[7]).connect(function(t){return{isTallDevice:r(d[6]).getIsTallDevice(t)}})(o);e.default=n},9961540,[9961543,9699340,9502828,3,9961544,9961478,9961545,5]);
__d(function() {},9961543,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t={hasFocus:!0,isBugNubActive:!1,isCloseFriendsDialogActive:!1,isHidden:!1,isInitiallyFollowedByViewer:!1,isInteractionActive:!1,isKeyboardActive:!1,isModalActive:!1,isMuted:!1,isPlaybackDisabled:!1,isResumeOverlayActive:!1,isStoryShareSheetActive:!1,isStoryViewerListActive:!1,isTransitioning:!1,isUnfollowModalActive:!1,mediaDimensions:{height:0,width:0},needsTapToStart:!1,postIDThatShouldShowSensitiveContentOverlay:null,shouldShowFactCheckInformation:!1,shouldShowFactCheckSharingFriction:!1,shouldShowSensitiveSharingFriction:!1,updateStoriesContext:()=>{},viewerHeight:0,viewerIsLoggedIn:!1};var o=a(d[0]).createContext(t);e.default=o,e.defaultContext=t},9961478,[3]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0]).createSelector(t=>t.displayProperties.viewportHeight,t=>t.displayProperties.viewportWidth,(t,o)=>t/o>1.7777777777777777);e.getIsTallDevice=t},9961545,[9]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({onClose:t}){const{data:n}=i(d[0])(),[s,{status:o}]=i(d[1])(),[c,l]=i(d[2])(n),u=r(d[3]).useDispatch();return'success'===o?a(d[6]).createElement(i(d[7]),{onClose:t}):a(d[6]).createElement(i(d[8]),{dispatch:l,state:c},a(d[6]).createElement(i(d[9]),{loading:'loading'===o,onClose:t,onSubmit:async t=>{const o=[...t.entries()].reduce((t,[n,s])=>({...t,[n]:s}),{});try{await s({answers:o,survey:n})}catch(t){u(r(d[4]).showToast({text:r(d[5]).GENERIC_ERROR_MESSAGE}))}}}))}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:n}){return a(d[6]).createElement(i(d[10]),{errorRenderer:()=>null},a(d[6]).createElement(a(d[6]).Suspense,{fallback:null},a(d[6]).createElement(t,{onClose:n})))}},13238303,[13238338,13238339,13238340,5,9961742,9699348,3,13238341,13238342,13238343,13238344]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t='467136164230165';e.default=function(){return r(d[0]).useQuery(['/api/v1/web/get_survey/{integration_point_id}/',{path:{integration_point_id:t}}],(t,n)=>r(d[1]).apiGet('/api/v1/web/get_survey/{integration_point_id}/',n).then(t=>t.data),{suspense:!0})}},13238338,[13238345,9961746]);
__d(function(g,r,i,a,m,e,d){"use strict";async function s({answers:s,survey:t}){const o={answers:Object.keys(s).map(t=>({answers:s[t],question_id:t})),pages:t.pages.map(s=>({question_ids:s.questions.map(s=>s.question_id)})),session_blob:t.session_blob,survey_id:t.survey_id};try{await r(d[0]).apiPost('/api/v1/web/submit_survey/',{body:o},{options:{dataType:'json'}})}catch(s){throw r(d[1]).logError(s),s}}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(){return r(d[2]).useMutation(s)}},13238339,[9961746,9568259,13238345]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(u){const s=r(d[0]).useMemo(()=>({answers:{},page:0,survey:u}),[u]);return r(d[0]).useReducer(i(d[1]),s)}},13238340,[3,13238346]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t,s){switch(s.type){case r(d[0]).SURVEY_PAGE_BACK:return{...t,page:Math.max(t.page-1,0)};case r(d[0]).SURVEY_PAGE_NEXT:return{...t,page:Math.min(t.page+1,t.survey.pages.length-1)};case r(d[0]).SURVEY_SET_ANSWER:return{...t,answers:{...t.answers,[s.questionId]:s.answers}};default:return t}}},13238346,[13238347]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.SURVEY_SET_ANSWER='SURVEY_SET_ANSWER',e.SURVEY_PAGE_BACK='SURVEY_PAGE_BACK',e.SURVEY_PAGE_NEXT='SURVEY_PAGE_NEXT'},13238347,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:t}){return a(d[0]).createElement(r(d[1]).Modal,{onClose:t},a(d[0]).createElement(r(d[1]).ModalHeader,{onClose:t},a(d[0]).createElement(r(d[1]).Box,null,r(d[2]).THANKS)),a(d[0]).createElement(r(d[1]).Box,{padding:4},a(d[0]).createElement(r(d[1]).Text.Headline2,null,r(d[2]).THANKS_TEXT)))}},13238341,[3,9699357,13238348]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=r(d[0])(1686),_=r(d[0])(1653),c=r(d[0])(2832);e.THANKS=t,e.THANKS_TEXT=_,e.GIVE_FEEDBACK=c},13238348,[9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({children:t,dispatch:n,state:u}){return a(d[0]).createElement(r(d[1]).SurveyDispatchContext.Provider,{value:n},a(d[0]).createElement(r(d[2]).SurveyStateContext.Provider,{value:u},t))}},13238342,[3,13238349,13238350]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createContext(null);e.default=function(){return i(d[1])(r(d[0]).useContext(t))},e.SurveyDispatchContext=t},13238349,[3,9699335]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});const t=a(d[0]).createContext(null);e.default=function(){return i(d[1])(r(d[0]).useContext(t))},e.SurveyStateContext=t},13238350,[3,9699335]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({loading:t,onClose:n,onSubmit:o}){const[s,l]=r(d[0]).useState(()=>new Map);return a(d[0]).createElement(r(d[1]).Modal,{fixedHeight:!0,size:"large"},a(d[0]).createElement(i(d[2]),{onClose:n}),a(d[0]).createElement(i(d[3]),{loading:t,onSubmit:()=>{o(s)},responses:s,setResponses:l}))}},13238343,[3,9699357,13238351,13238352]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:t}){const n=i(d[0])(),{page:o,survey:l}=i(d[1])(),u=r(d[2]).useCallback(()=>{n({type:r(d[3]).SURVEY_PAGE_BACK})},[n]);return a(d[4]).createElement(r(d[5]).ModalHeader,{onBack:o>0?u:void 0,onClose:t},a(d[4]).createElement(r(d[5]).Box,null,r(d[6])(66,{'question number':o+1,'total number of questions':l.pages.length})))}},13238351,[13238349,13238350,9961483,13238347,3,9699357,9699332]);
__d(function(g,r,i,a,m,e,d){"use strict";function t({page:t,responses:n,setResponses:s}){return t.questions.map(t=>a(d[0]).createElement("div",{key:t.question_id},a(d[0]).createElement(r(d[1]).Box,{paddingY:4},a(d[0]).createElement(r(d[1]).Text.Body,null,a(d[0]).createElement("label",{htmlFor:t.question_id},t.body))),a(d[0]).createElement(i(d[2]),{question:t,responses:n,setResponses:s})))}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({loading:n,onSubmit:s,responses:o,setResponses:l}){const p=i(d[3])(),{page:u,survey:E}=i(d[4])(),c=E.pages[u],_=u===E.pages.length-1;return a(d[0]).createElement(r(d[1]).Box,{flex:"grow",padding:4},a(d[0]).createElement(r(d[1]).Form,{onSubmit:()=>{_?s():p({type:r(d[5]).SURVEY_PAGE_NEXT})}},a(d[0]).createElement(t,{page:c,responses:o,setResponses:l}),a(d[0]).createElement(r(d[1]).Box,{marginTop:4},a(d[0]).createElement(r(d[1]).Button,{loading:n,type:"submit"},_?r(d[6]).GIVE_FEEDBACK:r(d[7]).NEXT))))}},13238352,[3,9699357,13238353,13238349,13238350,13238347,13238348,9699348]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:s,responses:t,setResponses:n}){const u={question:s,responses:t,setResponses:n};switch(s.question_class){case'CHECKBOX':return a(d[0]).createElement(i(d[1]),i(d[2])({key:s.question_id},u));case'MESSAGE':return a(d[0]).createElement(i(d[3]),i(d[2])({key:s.question_id},u));case'RADIO':return a(d[0]).createElement(i(d[4]),i(d[2])({key:s.question_id},u));case'TEXT':return a(d[0]).createElement(i(d[5]),i(d[2])({key:s.question_id},u));default:return null}}},13238353,[3,13238354,9895972,13238355,13238356,13238357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:t,responses:n,setResponses:o}){var s;const p=null!==(s=n.get(t.question_id))&&void 0!==s?s:[],u=new Map(p.map(t=>[t,!0])),c=(s,p)=>{u.set(s,p);const c=Array.from(u).filter(([t,n])=>n).map(([t,n])=>t);o(new Map(n.set(t.question_id,c)))};return t.response_options.map(({option_numeric_value:t,option_text:n,option_value:o})=>a(d[0]).createElement(r(d[1]).Box,{key:t,paddingY:1},a(d[0]).createElement(r(d[1]).Checkbox,{checked:u.get(o),onChange:t=>c(o,t)},n)))}},13238354,[3,9699357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({question:t}){return a(d[0]).createElement(r(d[1]).Box,{paddingY:2},a(d[0]).createElement(r(d[1]).Text.Body,null,t.message))}},13238355,[3,9699357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=({question:t,responses:o,setResponses:n})=>{const s=o.get(t.question_id),u=s&&s[0];return a(d[0]).createElement(r(d[1]).RadioButtonGroup,{name:`radio_button_${t.question_id}`,onChange:s=>{n(new Map(o.set(t.question_id,[s])))},selectedValue:u},t.response_options.map(({option_numeric_value:t,option_text:o,option_value:n})=>a(d[0]).createElement(r(d[1]).RadioButton,{key:t,value:n},o)))};e.default=t},13238356,[3,9699357]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),e.default=function({question:t,responses:s,setResponses:n}){var u;const o=null!==(u=s.get(t.question_id))&&void 0!==u?u:[];return a(d[1]).createElement("textarea",{className:"-Oa-V",id:`survey-question-${t.question_id}`,maxLength:"1250",onChange:u=>{n(new Map(s.set(t.question_id,[u.target.value])))},required:t.is_required,value:o})}},13238357,[13238358,3]);
__d(function() {},13238358,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function({onClose:t,onOpen:o,postId:n}){r(d[0]).useEffect(()=>()=>{t()},[t]);const s=i(d[1])(r(d[2]).useSelector(t=>r(d[3]).getPostById(t,n)));let l=i(d[1])(r(d[2]).useSelector(r(d[4]).getFeedPostIds));i(d[5])._("118","2")||(l=[]);const{code:c,dimensions:u}=s,p=i(d[6]).feedPage;return a(d[7]).createElement(i(d[8]),{analyticsContext:p,combinedPostIds:l,dimensions:u,mediaLinkBuilder:r(d[9]).buildMediaLink,modalEntryPath:r(d[10]).FEED_PATH,onClose:t,onOpen:o,postCode:c||'',postId:n},a(d[7]).createElement(i(d[11]),{analyticsContext:`${p}Modal`,autoplay:r(d[12]).hasAutoplayEnabledOnPosts({silent:!0}),id:n,inModal:!0,isVisible:!0,Options:[i(d[13]),i(d[14]),i(d[15]),i(d[16]),i(d[17]),i(d[18]),i(d[19]),i(d[20])],visiblePosition:0}))}},13238304,[9961483,9699335,5,9961647,13238274,9699363,9699346,3,12255278,9699354,9699373,12255279,12189712,12255280,12255281,12255282,12255283,12255284,12255285,12255286,12255287]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});let t=0;e.default=function(n){function o(t){return a(d[0]).createElement(i(d[1]),null,o=>a(d[0]).createElement(n,i(d[2])({},t,{key:c,onStartCreation:o})))}const c=`component-with-creation-starter-${t++}`;return o.displayName=`withCreationStarter(${i(d[3])(n)})`,o}},10092613,[3,10092638,9895972,10092639]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});class t extends a(d[1]).Component{constructor(...t){super(...t),this.$CreationSessionStarter1=!1,this.$CreationSessionStarter2=((t,n)=>{this.$CreationSessionStarter1||(this.$CreationSessionStarter1=!0,i(d[0])(this.$CreationSessionStarter3).selectFile(),this.props.onStartCreation(t,n),this.$CreationSessionStarter1=!1)})}render(){return[a(d[1]).createElement(i(d[2]),{acceptMimeTypes:['image/jpeg'],key:"creation-starter-upload",onFileChange:this.props.onMediaSelect,ref:t=>this.$CreationSessionStarter3=t}),this.props.children(this.$CreationSessionStarter2)]}}t.defaultProps={creationMode:r(d[3]).CreationMode.POST};var n=r(d[6]).connect(null,function(t){return{onMediaSelect(n){n.length&&t(r(d[4]).creationSelectImage(n[0]))},onStartCreation(n,o=r(d[3]).CreationMode.POST){t(r(d[5]).trackEntrypoint()),t(r(d[4]).startCreationSession(n,o))}}})(t);e.default=n},10092638,[9699335,3,9895950,10092612,10092640,9961755,5]);