// **************** Westagram Data ****************
const followersData = {
  'agst_1014': {
    detail: 'Song',
    pic: 'agst_1014.png'
  },
  'alessa_bebe': {
    detail: 'Alessandra Byun',
    pic: 'alessa_bebe.png'
  },
  'arnocee': {
    detail: 'Arnold C',
    pic: 'arnocee.png'
  },
  'ashkkny': {
    detail: 'Ashley',
    pic: 'ashkkny.png'
  },
  'blacq_swan': {
    detail: 'Soohwan Jang',
    pic: 'blacq_swan.png'
  },
  'bydaeun': {
    detail: '다은',
    pic: 'bydaeun.png'
  },
  'chanjinni': {
    detail: '찬징',
    pic: 'chanjinni.png'
  },
  'clairesyyoon25': {
    detail: 'Soyeon Claire Yoon',
    pic: 'clairesyyoon25.png'
  },
  'dongkyun_woo': {
    detail: 'Daniel',
    pic: 'dongkyun_woo.png'
  },
  'estherjyn': {
    detail: 'Esther✨',
    pic: 'estherjyn.png'
  },
  'haein_stella': {
    detail: 'Haein Stella Kim',
    pic: 'haein_stella.png'
  },
  'howon92': {
    detail: 'Howon Song',
    pic: 'howon92.png'
  },
  'ieyeqkyu': {
    detail: 'Will C',
    pic: 'ieyeqkyu.png'
  },
  'jupo_park': {
    detail: 'Hong Ju Park',
    pic: 'jupo_park.png'
  },
  'kevceb': {
    detail: 'Kevin Ceballos',
    pic: 'kevceb.png'
  },
  'khan89_gb': {
    detail: 'Ki Woong Albert Han',
    pic: 'khan89_gb.png'
  },
  'knoparablem': {
    detail: '',
    pic: 'knoparablem.png'
  },
  'ldosy': {
    detail: '다인이',
    pic: 'ldosy.png'
  },
  'minoonooo': {
    detail: '강민우',
    pic: 'minoonooo.png'
  },
  'paulchoi24': {
    detail: 'Paul Jinwook Choi',
    pic: 'paulchoi24.png'
  },
  'phi_choi': {
    detail: '',
    pic: 'phi_choi.png'
  },
  'seo_nani': {
    detail: 'Na Eun Seo',
    pic: 'seo_nani.png'
  },
  'seojuhyun_s': {
    detail: 'SEOHYUN(SEO JU HYUN)',
    pic: 'seojuhyun_s.png'
  },
  'sk17rina': {
    detail: 'SooJin Katarina',
    pic: 'sk17rina.png'
  },
  'stevelee_jh': {
    detail: 'Steve Lee',
    pic: 'stevelee_jh.png'
  },
  'sunghopaik89': {
    detail: 'Sung Ho',
    pic: 'sunghopaik89.png'
  },
  'sweetpotatos2': {
    detail: 'Joanne Shin',
    pic: 'sweetpotatos2.png'
  },
  'thisisdklee': {
    detail: '이도경',
    pic: 'thisisdklee.png'
  },
  'yueergu': {
    detail: 'YUEER GU💋',
    pic: 'yueergu.png'
  },
  'wecode_bootcamp': {
    detail: '>wecode | 위코드',
    pic: 'wecode_bootcamp.png'
  }
};

const suggestedData = {
  'rolex': {
    detail: 'ROLEX',
    pic: 'rolex.png'
  },
  'wework': {
    detail: 'WeWork',
    pic: 'wework.png'
  },
  'nusr_et': {
    detail: 'Nusr_et#Saltbae',
    pic: 'nusr_et.png'
  },
  'davidbeckham': {
    detail: 'David Beckham',
    pic: 'davidbeckham.png'
  },
  'lamborghini': {
    detail: 'Lamborghini',
    pic: 'lamborghini.png'
  },
  'ferrari': {
    detail: 'Ferrari',
    pic: 'ferrari.png'
  },
  'seoyejidaily': {
    detail: 'seo ye ji 서예지 徐睿知',
    pic: 'seoyejidaily.png'
  },
  'porsche': {
    detail: 'Porsche',
    pic: 'porsche.png'
  },
  'victoriassecret': {
    detail: 'Victoria\'s Secret',
    pic: 'victoriassecret.png'
  },
  'disney': {
    detail: 'Disney',
    pic: 'disney.png'
  },
  'bentleymotors': {
    detail: 'Bentley Motors Official',
    pic: 'bentleymotors.png'
  },
  'cristiano': {
    detail: 'Cristiano Ronaldo',
    pic: 'cristiano.png'
  },
  'hermes': {
    detail: 'Hermès',
    pic: 'hermes.png'
  },
  'palaceskateboards': {
    detail: 'PALACE',
    pic: 'palaceskateboards.png'
  },
  'nike': {
    detail: 'Nike',
    pic: 'nike.png'
  },
  'rogerfederer': {
    detail: 'Roger Federer',
    pic: 'rogerfederer.png'
  },
  'kingjames': {
    detail: 'LeBron James',
    pic: 'kingjames.png'
  },
  'lucascheon': {
    detail: '천인우',
    pic: 'lucascheon.png'
  },
  'google': {
    detail: 'Google',
    pic: 'google.png'
  },
  'apple': {
    detail: 'apple',
    pic: 'apple.png'
  },
  'cornelluniversity': {
    detail: 'Cornell University',
    pic: 'cornelluniversity.png'
  },
  'teslamotors': {
    detail: 'Tesla',
    pic: 'teslamotors.png'
  },
  'thisisbillgates': {
    detail: 'Bill Gates',
    pic: 'thisisbillgates.png'
  },
  'momstouch_love': {
    detail: '맘스터치',
    pic: 'momstouch_love.png'
  },
  'subway': {
    detail: 'Official Subway',
    pic: 'subway.png'
  },
  'kakaofriends_official': {
    detail: '카카오프렌즈 • KAKAO FRIENDS',
    pic: 'kakaofriends_official.png'
  },
  'hublot': {
    detail: 'Hublot',
    pic: 'hublot.png'
  },
  'patekphilippe': {
    detail: 'Patek Philippe',
    pic: 'patekphilippe.png'
  },
  'audemarspiguet': {
    detail: 'Audemars Piguet',
    pic: 'audemarspiguet.png'
  },
  'yjoo_oh': {
    detail: '오영주',
    pic: 'yjoo_oh.png'
  },
  'yj_loves': {
    detail: '정용진',
    pic: 'yj_loves.png'
  }
};

const combinedData = {};
for (let key in followersData) {
  combinedData[key] = followersData[key];
}
for (let key in suggestedData) {
  combinedData[key] = suggestedData[key];
}

let followersIds = [];
let followersProfilePics = [];

for (let key in followersData) {
  followersIds.push(key);
  followersProfilePics.push(followersData[key].pic);
};

let suggestedIds = [];
let suggestedProfilePics = [];

for (let key in suggestedData) {
  suggestedIds.push(key);
  suggestedProfilePics.push(suggestedData[key].pic);
};

let combinedIds = [];
let combinedDetails = [];
let combinedProfilePics = [];

for (let key in combinedData) {
  combinedIds.push(key);
  combinedDetails.push(combinedData[key].detail);
  combinedProfilePics.push(combinedData[key].pic);
}

const placesData = [
  '',
  'Seoul',
  'Yeouido',
  'Hannam-dong',
  'Euljiro',
  'Yongsan-gu',
  'Seocho-gu',
  'Gangnam-gu',
  'Chungdam-dong',
  'Incheon',
  'Busan',
  'Jeju',
  'Tokyo',
  'Osaka',
  'Kyoto',
  'Hokkaido, Japan',
  'Shanghai',
  'Beijing',
  'Chengdu',
  'Hong Kong',
  'New York',
  'Ithaca',
  'Los Angeles',
  'San Francisco',
  'Mountain View, California',
  'Cupertino, California',
  'Miami',
  'Boston',
  'Seattle',
  'Portland, Oregon',
  'Chicago',
  'Milano',
  'Napoli',
  'London',
  'Paris',
  'Geneva',
  'Frankfurt',
  'Barcelona',
  'Madrid',
  'Praha'
];

const feedPicsData = [
  'beef.png',
  'beef2.png',
  'homeparty.png',
  'pizza2.png',
  'sushi.png',
  'sushi2.png',
  'wines.png',
  'risotto.png',
  'asianfood.png',
  'roomservice.png',
  'snack.png',
  'macchiato.png',
  'porterhouse2.png',
  'barbeque.png',
  'steak.png',
  'chuseok.png',
  'chinesefood.png',
  'chicken.png',
  'uniandsoju.png',
  'fishandsake.png'
];

const sampleFeedExpData = [
  'les girit~',
  'sooooo good',
  'love it!',
  'in love 🧡',
  'rockin the day',
  'this is so good',
  'yeaaaaaaaa',
  'let\'s begin!',
  'the best there is',
  'rollin on',
  'can\'t resist',
  '🧡🧡🧡',
  '🔥',
  '🔥🔥🔥',
  '😍',
  '😍😍😍',
  '😘',
  'so good it\'s dizzifying🤪',
  'yeessssssss🔥',
  'carpe diem!'
];

const sampleCommentsData = [
  'woahhh where is this??',
  'awesome!!!',
  'omg!!!!!!!!',
  'looks amazing! ><',
  'that looks soooooooo nice',
  'woah that\ looks fly',
  'wowwowowow',
  'wowowowow😍',
  'wowowow🔥',
  'woah!🧡',
  'looks so goooooood🧡',
  'i\'ll join you next time!',
  'hey hit me up!',
  'omg🧡',
  '🔥🔥🔥',
  '😍🧡',
  '👍👍👍',
  '😘',
  '😆',
  '👍🧡',
  'nice~~~~',
  'awesome🧡'
];




// **************** Nav Bar Codes ****************
const body = document.querySelector('body');
const navSearchBox = document.querySelector('.nav-search-box');
const navSearchIcon = document.querySelector('img.nav-search-icon');
const navSearchClearIcon = document.querySelector('img.nav-search-clear-icon');

function navSearchBoxSelected() {
  navSearchBox.style.textIndent = '12%';
  navSearchBox.style.color = 'black';
  navSearchIcon.style.left = '3%';
  navSearchClearIcon.style.display = 'block';
}

function navSearchBoxUnselected(e) {
  if (!e.target.matches('.nav-search-box, .nav-search-icon, .nav-search-clear-icon')) {
    navSearchBox.style.textIndent = '41%';
    navSearchBox.style.color = '#959595';
    navSearchIcon.style.left = '31.5%';
    navSearchClearIcon.style.display = 'none';
  }
}

function clearSearch() {
  navSearchBox.value = '';
  body.addEventListener('click', navSearchBoxUnselected);
  body.click();
}

navSearchBox.addEventListener('click', navSearchBoxSelected);
body.addEventListener('click', navSearchBoxUnselected);
navSearchClearIcon.addEventListener('click', clearSearch);



const searchSuggestionsBox = document.querySelector('.nav-search-suggestions-box');
const searchSuggestionsUl = document.querySelector('.nav-search-suggestions');

function renderSearchSuggestionItem(suggestionId) {
  function findIdPicPath(suggestionId) {
    if (followersIds.includes(suggestionId)) {
      return `user_followers/${combinedData[suggestionId].pic}`;
    } else if (suggestedIds.includes(suggestionId)) {
      return `suggested/${combinedData[suggestionId].pic}`;
    }
  }
  const searchSuggestionItem = document.createElement('li');
  searchSuggestionItem.className = 'nav-search-suggestion-item';
  searchSuggestionItem.innerHTML = `
  <div class="search-suggested-profile-pic-outer-glow">
    <div class="search-suggested-profile-pic-mid-white">
      <div class="search-suggested-profile-pic">
        <img src="img/main/${findIdPicPath(suggestionId)}" alt="search suggested user profile picture" class="search-suggested-profile-pic">
      </div>
    </div>
  </div>
  <div class="search-suggested-profile-id-n-detail">
    <p class="search-suggested-profile-id">${suggestionId}</p>
    <p class="search-suggested-profile-detail">${combinedData[suggestionId].detail}</p>
  </div>
  `;
  searchSuggestionsUl.appendChild(searchSuggestionItem);
  const searchSuggestionItemHeight = 66;
  console.log(searchSuggestionItemHeight);
  searchSuggestionsUl.style.height = `${(searchSuggestionItemHeight * searchSuggestionsUl.children.length)}px`;
}

function clearRenderedSearchSuggestionItems() {
  searchSuggestionsUl.innerHTML = '';
}

function generateSearchSuggestionsArr(e) {
  let searchSuggestionsArr = [];
  let combinedIdsSorted = combinedIds.sort();
  for (let id in combinedIdsSorted) {
    if (e.target.value !== '' && combinedIdsSorted[id].toLowerCase().includes(e.target.value.toLowerCase())) {
      console.log(combinedIdsSorted[id]);
      searchSuggestionsArr.push(combinedIdsSorted[id]);
    }
  }
  clearRenderedSearchSuggestionItems();
  searchSuggestionsArr.forEach(el => renderSearchSuggestionItem(el));
  navSearchClearIcon.addEventListener('click', function() {
    clearRenderedSearchSuggestionItems;
    searchSuggestionsBox.style.display = 'none';
  });
  document.addEventListener('click', function(e) {
    const isSearchBoxClicked = navSearchBox.contains(e.target);
    if (!isSearchBoxClicked) {
      clearRenderedSearchSuggestionItems;
      searchSuggestionsBox.style.display = 'none';
    };
  });
  const isSuggestionAvailable = searchSuggestionsArr.length > 0;
  searchSuggestionsBox.style.display = isSuggestionAvailable ? 'block' : 'none';
}

navSearchBox.addEventListener('input', generateSearchSuggestionsArr);



const navMenuItems = document.querySelectorAll('.nav-menu-item');
const navMenuAvatar = document.querySelector('.nav-menu-item.avatar');
const navMenuAvatarBorder = document.querySelector('.nav-menu-item.avatar-outer-border');
const navMenuHomeIcon = document.querySelector('.menu-item-icon.home-icon');
const navMenuDropdown = document.querySelector('div.nav-menu-dropdown');

function toggleDropdownDisplay() {
  const isDropdownShown = navMenuDropdown.style.display === 'block';
  navMenuDropdown.style.display = isDropdownShown ? 'none' : 'block';
  isDropdownShown ? navMenuHomeIcon.setAttribute('src', 'img/main/nav_menu_home_icon.png') : navMenuHomeIcon.setAttribute('src', 'img/main/onclick_icons/nav_menu_home_icon_white.png');
  navMenuHomeIcon.style.width = isDropdownShown ? '130%' : '120%';
  navMenuAvatar.style.marginRight = isDropdownShown ? '0' : '-7.5%';
  navMenuAvatarBorder.style.border = isDropdownShown ? 'none' : '1.5px solid black';
  navMenuAvatar.addEventListener('click', toggleDropdownDisplay);
  document.addEventListener('click', function(e) {
    const isAvatarClicked = navMenuAvatar.contains(e.target);
    if (!isAvatarClicked) {
      navMenuDropdown.style.display = 'none';
      navMenuHomeIcon.setAttribute('src', 'img/main/nav_menu_home_icon.png');
      navMenuHomeIcon.style.width = '130%';
      navMenuAvatar.style.marginRight = '0';
      navMenuAvatarBorder.style.border = 'none';
    }
  });
}


navMenuAvatar.addEventListener('click', toggleDropdownDisplay);



// **************** Story Section Codes ****************
const story = document.querySelector('ul.story');
const storyArrowButtonRight = document.querySelector('div.story-arrow-button.right');
const storyArrowButtonLeft = document.querySelector('div.story-arrow-button.left');

const storySectionWidth = 610;
const storyItemWidth = 80;
const storyLastItemRightMargin = 14;

function slideStoryLeft() {
  const storyPosition = story.style.transform;
  const xCurrentStartIdx = (storyPosition.indexOf('-') === -1) ? storyPosition.indexOf('(') + 1 : storyPosition.indexOf('-') + 1;
  const xCurrentEndIdx = storyPosition.indexOf('%');
  const xCurrentAbs = Number(storyPosition.substring(xCurrentStartIdx, xCurrentEndIdx));
  console.log('xCurrentAbs: ' + xCurrentAbs);
  const xIncrement = ((storyItemWidth * 4) / storySectionWidth) * 100;
  const xRemainder = 100 - xIncrement;
  const storyTotalWidth = (((storyItemWidth * followersIds.length) + storyLastItemRightMargin) / storySectionWidth) * 100;
  const isMaxReached = xCurrentAbs + xIncrement >=  storyTotalWidth - 100;
  const xTranslated = isMaxReached ? (storyTotalWidth - 100) * -1 : (xCurrentAbs + xIncrement) * -1;
  console.log('isMaxReached?: ' + isMaxReached);
  console.log('xTranslated: ' + xTranslated);
  story.style.transform = `translate(${xTranslated}%, 0)`;
  story.style.transition = 'transform 600ms';
  storyArrowButtonRight.style.display = isMaxReached ? 'none' : 'flex';
  storyArrowButtonLeft.style.display = 'flex';
}

function slideStoryRight() {
  const storyPosition = story.style.transform;
  const xCurrentStartIdx = (storyPosition.indexOf('-') === -1) ? storyPosition.indexOf('(') + 1 : storyPosition.indexOf('-') + 1;
  const xCurrentEndIdx = storyPosition.indexOf('%');
  const xCurrentAbs = Number(storyPosition.substring(xCurrentStartIdx, xCurrentEndIdx));
  console.log('xCurrentAbs: ' + xCurrentAbs);
  const xIncrement = ((storyItemWidth * 4) / storySectionWidth) * 100;
  const xRemainder = 100 - xIncrement;
  const storyTotalWidth = (((storyItemWidth * followersIds.length) + storyLastItemRightMargin) / storySectionWidth) * 100;
  const wasMaxReached = xCurrentAbs + (xIncrement - xRemainder) >= storyTotalWidth - 100;
  const isMinReached = xCurrentAbs - xIncrement <= 0;
  const xTranslated = wasMaxReached ? (xCurrentAbs - xRemainder) * -1 : (isMinReached ? 0 : (xCurrentAbs - xIncrement) * -1);
  console.log('wasMaxReached?: ' + wasMaxReached);
  console.log('isMinReached?: ' + isMinReached);
  console.log('xTranslated: ' + xTranslated);
  story.style.transform = `translate(${xTranslated}%, 0)`;
  story.style.transition = 'transform 600ms';
  storyArrowButtonLeft.style.display = isMinReached ? 'none' : 'flex';
  storyArrowButtonRight.style.display = 'flex';
}

storyArrowButtonRight.addEventListener('click', slideStoryLeft);
storyArrowButtonLeft.addEventListener('click', slideStoryRight);


function generateStory(num) {
  const storyProfilePicImg = document.createElement('img');
  storyProfilePicImg.setAttribute('class', 'story-profile-pic');
  storyProfilePicImg.setAttribute('src', `img/main/user_followers/${followersProfilePics[num]}`);
  const storyProfilePicDiv = document.createElement('div');
  storyProfilePicDiv.setAttribute('class', 'story-profile-pic');
  storyProfilePicDiv.appendChild(storyProfilePicImg);
  const storyProfilePicMidWhiteDiv = document.createElement('div');
  storyProfilePicMidWhiteDiv.setAttribute('class', 'story-profile-pic-mid-white');
  storyProfilePicMidWhiteDiv.appendChild(storyProfilePicDiv);
  const storyProfilePicOuterGlow = document.createElement('div');
  storyProfilePicOuterGlow.setAttribute('class', 'story-profile-pic-outer-glow');
  storyProfilePicOuterGlow.appendChild(storyProfilePicMidWhiteDiv);
  const storyProfileId = document.createElement('p');
  storyProfileId.setAttribute('class', 'story-profile-id');
  storyProfileId.innerHTML = `${followersIds[num]}`;
  const storyElementLink = document.createElement('a');
  storyElementLink.setAttribute('class', 'story-element-link');
  storyElementLink.setAttribute('href', '#');
  storyElementLink.appendChild(storyProfilePicOuterGlow);
  storyElementLink.appendChild(storyProfileId);
  const storyElement = document.createElement('li');
  storyElement.setAttribute('class', `story-element story-${num}`);
  storyElement.appendChild(storyElementLink);
  story.appendChild(storyElement);
}

function generateOrderedArr(min, max) {
  let newOrderedArr = [];
  for (let i=min; i<max; i++) {
    newOrderedArr.push(i);
  }
  return newOrderedArr;
}

function generateRandomOrderArr(orderedArr) {
  let randomOrderArr = [];
  while (orderedArr.length !== 0) {
    let randIdx = Math.floor(Math.random() * orderedArr.length);
    let randNum = orderedArr[randIdx];
    orderedArr.splice(randIdx, 1);
    randomOrderArr.push(randNum);
  }
  return randomOrderArr;
}

let followersNumArr = generateOrderedArr(0, followersIds.length);
let followersRandNumArr = generateRandomOrderArr(followersNumArr);

for (let i in followersRandNumArr) {
  generateStory(followersRandNumArr[i]);
}



// **************** Feed Section Codes ****************
const feedsDiv = document.querySelector('div.feeds');

function generateFeed(picNum) {
  let profileRandNumArr = generateRandomOrderArr(generateOrderedArr(0, followersIds.length));
  let profileNum = profileRandNumArr[0];
  let profileNum2 = profileRandNumArr[1];
  let placeRandNumArr = generateRandomOrderArr(generateOrderedArr(0, placesData.length));
  let placeNum = placeRandNumArr[0];
  let expRandNumArr = generateRandomOrderArr(generateOrderedArr(0, sampleFeedExpData.length));
  let expNum = expRandNumArr[0];
  let commentRandNumArr = generateRandomOrderArr(generateOrderedArr(0, sampleCommentsData.length));
  let commentNum = commentRandNumArr[0];
  const feed = document.createElement('div');
  feed.className = `feed-element feed-${placeNum}`;
  feed.innerHTML = `
    <div class="feed-header">
      <div class="feed-profile-pic-outer-glow">
        <div class="feed-profile-pic-mid-white">
          <div class="feed-profile-pic">
            <a href="#" class="feed-profile-pic">
              <img src="img/main/user_followers/${followersProfilePics[profileNum]}" alt="story user profile picture" class="feed-profile-pic">
            </a>
          </div>
        </div>
      </div>
      <div class="feed-profile-id-n-place">
        <a href="" class="feed-profile-id">${followersIds[profileNum]}</a>
        <p class="feed-place">${placesData[placeNum]}</p>
      </div>
      <div class="feed-option">
        <img src="img/main/three_dots_horizontal.png" alt="feed option button" class="feed-option">
      </div>
    </div>
    <div class="feed-main">
      <img src="img/main/feed_pics/${feedPicsData[picNum]}" alt="feed picture" class="feed-main-pic">
    </div>
    <div class="feed-actions">
      <div class="feed-action feed-like">
        <img src="img/main/nav_menu_heart_icon.png" alt="feed like heart icon" class="feed-action-heart">
      </div>
      <div class="feed-action feed-comment">
        <img src="img/main/nav_menu_comment.png" alt="see comment icon" class="feed-action-comment">
      </div>
      <div class="feed-action feed--dm">
        <img src="img/main/nav_menu_dm_icon.png" alt="" class="feed-action-dm">
      </div>
      <div class="feed-action feed-tag">
        <img src="img/main/nav_menu_tag_icon.png" alt="" class="feed-action-tag">
      </div>
    </div>
    <div class="feed-likes">
      <div class="focused-liker-img">
        <img class="focused-liker-img" src="img/main/user_followers/${followersProfilePics[profileNum2]}" alt="profile image of the focused person who liked the feed">
      </div>
        <p class="likes-count">Liked by <span>${followersIds[profileNum2]}</span> and <span>${Math.floor(Math.random() * 200 + 5)} others</span></p>
    </div>
      <div class="feed-exp-box">
      <a href="" class="feed-profile-id">${followersIds[profileNum]}</a>
      <p class="feed-exp">${sampleFeedExpData[expNum]}</p>
    </div>
    <ul class="feed-comments">
      <li class="feed-comment-item">
        <a href="" class="feed-profile-id">${followersIds[Math.floor(Math.random() * followersIds.length)]}</a>
        <p class="feed-comment">${sampleCommentsData[commentNum]}</p>
        <div class="feed-comment-like">
          <img src="img/main/nav_menu_heart_icon.png" alt="feed comment like heart icon" class="feed-comment-heart">
        </div>
      </li>
    </ul>
    <p class="feed-posted-time">${Math.floor(Math.random() * 10 + 2)} HOURS AGO</p>
    <div class="feed-post-comment">
      <input type="text" class="post-comment-box" placeholder="Add a comment...">
      <div class="post-button">Post</div>
    </div>
    `;
    feedsDiv.appendChild(feed);
  }
  
  
  let feedNumArr = generateOrderedArr(0, feedPicsData.length);
  let feedRandNumArr = generateRandomOrderArr(feedNumArr);
  
  for (let i in feedRandNumArr) {
    generateFeed(feedRandNumArr[i]);
  }


  const feedElements = feedsDiv.querySelectorAll('.feed-element');
  const feedActionHeartIcons = feedsDiv.querySelectorAll('.feed-action-heart');
  const feedCommentHeartIcons = feedsDiv.querySelectorAll('.feed-comment-heart');
  const feedActionTagIcons = feedsDiv.querySelectorAll('.feed-action-tag');
  
  let iconImgSrcOriginal = {};
  feedActionHeartIcons.forEach(el => iconImgSrcOriginal[el.className] = 'img/main/nav_menu_heart_icon.png');
  feedCommentHeartIcons.forEach(el => iconImgSrcOriginal[el.className] = 'img/main/nav_menu_heart_icon.png');
  feedActionTagIcons.forEach(el => iconImgSrcOriginal[el.className] = 'img/main/nav_menu_tag_icon.png');
  
  let iconImgSrcAfterSelect = {};
  feedActionHeartIcons.forEach(el => iconImgSrcAfterSelect[el.className] = 'img/main/onclick_icons/nav_menu_heart_icon_red.png');
  feedCommentHeartIcons.forEach(el => iconImgSrcAfterSelect[el.className] = 'img/main/onclick_icons/nav_menu_heart_icon_red.png');
  feedActionTagIcons.forEach(el => iconImgSrcAfterSelect[el.className] = 'img/main/onclick_icons/nav_menu_tag_icon_black.png');
  
  function isIconSelected(e) {
    if (e.target.getAttribute('src') === iconImgSrcOriginal[e.target.className]) {
      return false;
    } else if (e.target.getAttribute('src') === iconImgSrcAfterSelect[e.target.className]) {
      return true;
    }
  }
  
  function changeIconColor(e) {
    if (!isIconSelected(e)) {
      e.target.setAttribute('src', iconImgSrcAfterSelect[e.target.className]);
      e.target.style.width = '110%';
    } else {
      e.target.setAttribute('src', iconImgSrcOriginal[e.target.className]);
      e.target.style.width = '90%';
    }
  }
  
  feedActionHeartIcons.forEach(el => el.addEventListener('click', changeIconColor));
  feedCommentHeartIcons.forEach(el => el.addEventListener('click', changeIconColor));
  feedActionTagIcons.forEach(el => el.addEventListener('click', changeIconColor));
  

  const postButtons = feedsDiv.querySelectorAll('.post-button');
  const postCommentBoxes = feedsDiv.querySelectorAll('.post-comment-box');

  function activatePostButton() {
    feedElements.forEach (el => {
      const postCommentBox = el.querySelector('.post-comment-box');
      const postButton = el.querySelector('.post-button');
      const isInputValid = postCommentBox.value.length > 0;
      postButton.style.opacity = isInputValid ? 1 : 0.3;
      postButton.style.cursor = isInputValid ? 'pointer' : 'default';
    })
  }
  
  postCommentBoxes.forEach(el => el.addEventListener('input', activatePostButton));

  
  function postComment() {
    feedElements.forEach(el => {
      const postCommentBox = el.querySelector('.post-comment-box');
      const postButton = el.querySelector('.post-button');
      const currentAccountUser = document.querySelector('p.account-profile-id');
      if (postCommentBox.value.length > 0) {
        const newFeedComment = document.createElement('li');
        newFeedComment.className = 'feed-comment-item';
        newFeedComment.innerHTML = `
        <li class="feed-comment-item">
          <a href="" class="feed-profile-id">${currentAccountUser.innerText}</a>
          <p class="feed-comment">${postCommentBox.value}</p>
          <div class="feed-comment-like">
            <img src="img/main/nav_menu_heart_icon.png" alt="feed comment like heart icon" class="feed-comment-heart">
          </div>
          </li>
          `;
        const newCommentHeartIcon = newFeedComment.querySelector('.feed-comment-heart');
        newCommentHeartIcon.addEventListener('click', changeIconColor);
        const feedCommentsUl = el.querySelector('.feed-comments');
        feedCommentsUl.appendChild(newFeedComment);
        postCommentBox.value = '';
        postButton.style.opacity = 0.3;
        postButton.style.cursor = 'default';
      }
    })
  }
  
  postCommentBoxes.forEach(el => el.addEventListener('keyup', function(e) {
    if(e.keyCode === 13) {
      postComment();
    }
  }));
  postButtons.forEach(el => el.addEventListener('click', postComment));



// **************** Side Section Codes ****************
function generateSuggestions(num) {
  let followedByStatementOptions = [
    `Followed by ${followersIds[Math.floor(Math.random() * followersIds.length)]}`,
    `Followed by ${followersIds[Math.floor(Math.random() * followersIds.length)]} +${Math.floor(Math.random() * 19) + 1} more`,
    'Suggested for you'
  ];
  const suggestionsList = document.querySelector('ul.suggestions-list');
  const suggestionItem = document.createElement('li');
  suggestionItem.className = `suggestion-item suggestion-item-${num}`;
  suggestionItem.innerHTML = `
    <div class="suggested-profile-pic">
      <a href="#" class="suggested-profile-pic">
        <img src="img/main/suggested/${suggestedProfilePics[num]}" alt="suggested user profile picture" class="suggested-profile-pic">
      </a>
    </div>
    <div class="suggested-profile-id-n-followers">
      <a href="" class="suggested-profile-id">${suggestedIds[num]}</a>
      <p class="followed-by">${followedByStatementOptions[Math.floor(Math.random() * 3)]}</p>
    </div>
    <a href="#" class="follow"><p class="follow">Follow</p></a>
  `;
  suggestionsList.appendChild(suggestionItem);
}

let suggestedNumArr = generateOrderedArr(0, suggestedIds.length);
let suggestedRandNumArr = generateRandomOrderArr(suggestedNumArr);

for (let i in suggestedRandNumArr) {
  if (i > 4) {
    break;
  }
  generateSuggestions(suggestedRandNumArr[i]);
}



